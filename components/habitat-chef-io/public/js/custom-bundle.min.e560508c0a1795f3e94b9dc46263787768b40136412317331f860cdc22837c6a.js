(function($){var segment_map={"www.chef.sh":"sYovbR5fTkQ7mhPPGELL9LERcLqtGWxp","chef-www-acceptance.cd.chef.co":"CsRaWq2uKeUOlNhIr5cO8WuJfEqHZsKs","automate.chef.io":"ynCGZG2VmLeCOdrHU86VNFR55SEk4taC","automate-www-acceptance.cd.chef.co":"kSzzeQTmlbEQ9FmYOcRMzwQtmQ5U28AW"};var segment_id=segment_map[location.hostname];var analytics=window.analytics=window.analytics||[];if(!analytics.initialize)
if(analytics.invoked)window.console&&console.error&&console.error("Segment snippet included twice.");else{analytics.invoked=!0;analytics.methods=["trackSubmit","trackClick","trackLink","trackForm","pageview","identify","reset","group","track","ready","alias","debug","page","once","off","on"];analytics.factory=function(t){return function(){var e=Array.prototype.slice.call(arguments);e.unshift(t);analytics.push(e);return analytics}};for(var t=0;t<analytics.methods.length;t++){var e=analytics.methods[t];analytics[e]=analytics.factory(e)}
analytics.load=function(t,e){var n=document.createElement("script");n.type="text/javascript";n.async=!0;n.src=("https:"===document.location.protocol?"https://":"http://")+"cdn.segment.com/analytics.js/v1/"+t+"/analytics.min.js";var o=document.getElementsByTagName("script")[0];o.parentNode.insertBefore(n,o);analytics._loadOptions=e};analytics.SNIPPET_VERSION="4.1.0";if(segment_id){analytics.load(segment_id);analytics.page();}else{console.log("We have no Segment tracking data for this domain.");}}}(jQuery));;(function($){var parser=new UAParser();var ua=parser.getResult();function calcMachine(arch){switch(arch){case "amd64":return "x86_64";case "ia32":return "i386";default:return undefined;}}
function calcWindowsPV(version){switch(version){case "7":case "2008r2":return "2008r2";case "8":case "2012":return "2012";case "8.1":case "2012r2":return "2012r2";case "10":case "2016":return "2016";default:return undefined;}}
if($("a[data-omnitruck-download]").length>0){var downloadable=true;var element=$("a[data-omnitruck-download]").first();switch(ua.os.name){case "Mac OS":platform="mac_os_x";platform_version=ua.os.version;machine="x86_64";break;case "Windows":platform="windows";platform_version=calcWindowsPV(ua.os.version);machine=calcMachine(ua.cpu.architecture);break;default:downloadable=false;break;}
var product=element.attr("data-omnitruck-download")
var channel=element.attr("data-omnitruck-channel")||"stable"
if(downloadable==false||platform==undefined||platform_version==undefined||machine==undefined){element.attr("href","https://downloads.chef.io/"+product+"/"+channel);}else{$.getJSON({type:"GET",headers:{"Accept":"application/json"},url:"https://omnitruck.chef.io/"+channel+"/"+product+"/metadata?p="+platform+"&pv="+platform_version+"&m="+machine}).done(function(data){element.attr("href",data["url"]);});}}}(jQuery));;$.urlParam=function(name){var results=new RegExp('[\?&]'+name+'=([^]*)').exec(window.location.href);if(results==null){return null;}
else{return results[1]||0;}}
function findWithAttr(array,attr,value){for(var i=0;i<array.length;i+=1){if(array[i][attr]===value){return i;}}
return-1;}
function loadReleaseNotesContents(releases,version){if(version==null){var index=releases.length-1;}else{var index=findWithAttr(releases,"version",version);}
var converter=new showdown.Converter();$.get(releases[index]["_links"]["release_notes"],function(rawReleaseNotes){var html=converter.makeHtml(rawReleaseNotes);var friendlyDate=new Date(releases[index]["release_date"]);var options={year:'numeric',month:'long',day:'numeric'};$("#main-content-col").html(html);$("#main-content-col").prepend("<p><i>Released on "+friendlyDate.toLocaleString('en-US',options)+"</i></p>");$("#main-content-col").prepend("<h1>Version "+releases[index]["version"]+"</h1>");});}
function loadNavigationBar(releases,version){var groupedReleases={};for(var i=0;i<releases.length;i++){var date=new Date(releases[i]["release_date"]);var formattedMonth=("0"+(date.getMonth()+1)).slice(-2);var navDate=date.getFullYear()+"-"+formattedMonth;groupedReleases[navDate]=(typeof groupedReleases[navDate]!='undefined'&&groupedReleases[navDate]instanceof Array)?groupedReleases[navDate]:[]
groupedReleases[navDate].push(releases[i]);}
$(".nav").append("<ul id=\"release-notes-menu\" class=\"vertical menu accordion-menu\" data-accordion-menu></ul>");$.each(groupedReleases,function(navDate,releases){if(releases.length>0){var releaseList="";var classes="menu vertical nested";var li="<li>";$.each(releases,function(_,release){if(version==release["version"]){li='<li class="active">';classes="menu vertical nested is-active";}else{li="<li>";}
releaseList+=li+"<a href=\"?v="+release["version"]+"\">Version "+release["version"]+"</a></li>";});$("#release-notes-menu").prepend("<li><a>"+navDate+"</a><ul class=\""+classes+"\">"+releaseList+"</ul></li>");}});if(version==null){var lrLi='<li class="active">';}else{var lrLi='<li>'}
$("#release-notes-menu").prepend(lrLi+"<a href=\"/release-notes/\">Latest Release</a></li>");$(".nav").foundation();}
function loadReleaseNotesPage(product){var version=$.urlParam('v');var channel="current";$.getJSON({type:"GET",headers:{"Accept":"application/json"},url:"https://packages.chef.io/releases/"+channel+"/"+product+".json"}).done(function(releases){loadNavigationBar(releases,version);loadReleaseNotesContents(releases,version);});};function addCopyButtons(clipboard){document.querySelectorAll('pre > code').forEach(function(codeBlock){var button=document.createElement('button');button.className='copy-code-button';button.type='button';button.innerText='Copy';button.addEventListener('click',function(){clipboard.writeText(codeBlock.textContent).then(function(){button.blur();button.innerText='Copied!';setTimeout(function(){button.innerText='Copy';},2000);},function(error){button.innerText='Error';console.error(error);});});var pre=codeBlock.parentNode;if(pre.parentNode.classList.contains('highlight')){var highlight=pre.parentNode;highlight.parentNode.insertBefore(button,highlight);}else{pre.parentNode.insertBefore(button,pre);}});}
if(navigator&&navigator.clipboard){addCopyButtons(navigator.clipboard);}else{var script=document.createElement('script');script.src='https://cdnjs.cloudflare.com/ajax/libs/clipboard-polyfill/2.7.0/clipboard-polyfill.promise.js';script.integrity='sha256-waClS2re9NUbXRsryKoof+F9qc1gjjIhc2eT7ZbIv94=';script.crossOrigin='anonymous';script.onload=function(){addCopyButtons(clipboard);};document.body.appendChild(script);};(function(win,doc,$){$(doc).foundation();$(".prose > :header").each(function(){$(this).append("<a href=\"\#"+$(this).attr("id")+"\"><i class=\"fas fa-link\"></i></a>");});$("nav[data-sticky]").on("sticky.zf.stuckto:top",function(){$("#getting-started-dropdown").css("margin-top","-50px");});$("nav[data-sticky]").on("sticky.zf.unstuckfrom:top",function(){$("#getting-started-dropdown").css("margin-top","-1px");});$(window).on('sticky.zf.unstuckfrom:bottom',function(e){if(Foundation.MediaQuery.is('small only')){$(e.target).removeClass('is-anchored is-at-bottom').css('top','auto');}});if($('nav[data-product="automate"]')){var menu='#menu nav';var menuItems='#header-menu .menu-items > li';var menuContent='.menu-content';var menuContentItems='.menu-content .item';var hoverTimeout;$(menuItems).mouseover(function(){if(Foundation.MediaQuery.atLeast('medium')){clearTimeout(hoverTimeout);var item=showMenuItem($(this).index());setMenuPosition();showMenu();item.parents(menuContent).css('height',item.outerHeight());}}).click(function(e){if($(this).hasClass('has-content')){e.preventDefault();showMenuItem($(this).index());showMenu();}});$('.back a').click(function(e){e.preventDefault();hideMenu();});$('nav header, .menu-content').mouseleave(function(){if(Foundation.MediaQuery.atLeast('medium')){hideMenu();}});$(doc).scroll(function(){setMenuPosition(!isMobile());}).resize(function(){setMenuPosition(true);})
$(win).on('changed.zf.mediaquery',function(){setMenuPosition(false);});function setMenuPosition(hide){var top=0;if(!Foundation.MediaQuery.is('small only')){top=$('#header-menu').height()}
$(menuContent).css('top',top);if(isMobile()){$(menuContent).css('height',$(win).height()-top);}
if(hide){hideMenu();}}
function showMenu(){setMenuPosition();$(menu).addClass('open');}
function showMenuItem(index){return $(menuContentItems).css('display','none').eq(index).css('display','block');}
function hideMenu(){hoverTimeout=setTimeout(function(){$(menu).removeClass('open');},100);}
function isMobile(){return Foundation.MediaQuery.is('small only');}
setMenuPosition();}}(window,document,jQuery));