<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<meta name="robots" content="">
  <title>Package Export Formats</title>
  <link rel="shortcut icon" type="image/png" href="/images/favicon.ico" />
  
  
  <link rel="stylesheet" href="/sass/main.css" />
  <link rel="stylesheet" href="/css/habitat.css" />
</head>

<body>
  <a class="skip-main" href="#main-content-col">Skip to main content</a>

  <nav id="utility-bar" class = "show-for-medium">
    <div class="utility-bar-logo">
      <a href="/"><img src="/images/chef-logo.svg" alt="Chef Documentation" class="chef"></a>
    </div>

    <ul class="menu align-right top-nav">
      
      <li><a href="https://www.chef.io/">Chef.io</a></li>
      
      <li><a href="https://learn.chef.io/">Learn Chef</a></li>
      
      <li><a href="https://blog.chef.io/">Blog</a></li>
      
      <li><a href="https://community.chef.io/">Community</a></li>
      
      <li><a href="https://training.chef.io/">Training</a></li>
      
      <li><a href="https://downloads.chef.io/">Download</a></li>
      
    </ul>
</nav>

  <nav id="utility-bar" class = "show-for-small-only">
  <div class="">
    <button id="header-toggle" type="button" class="utility-bar-nav-bars " data-toggle="left-nav-off-canvas">
      <i class="fas fa-bars fa-lg"></i>
    </button>
    <div class="utility-bar-logo">
      <a href="/"><img src="/images/chef-logo.svg" alt="Chef Documentation" class="chef"></a>
    </div>
  </div>
</nav>


  <div id="left-nav-off-canvas" class="hide-for-medium" data-toggler=".reveal">
    


<aside class="sticky" data-sticky data-top-anchor="utility-bar:bottom" data-btm-anchor="footer:top" data-margin-top="0" data-margin-bottom="2">
  <div>
    <button class="close-button" data-toggle="left-nav-off-canvas">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <nav id="sidebar-nav" class="offCanvas">
    
      <div class="search">
        <form class="basic-form" method="" action="">
          <input type="text" class="st-default-search-input" placeholder="Search...">
        </form>
      </div>
    
    <div class="nav">
      <ul class="vertical menu accordion-menu" data-accordion-menu>
        
          
          
        
          
          
        
          
          
            
              <li>
                <a href="">chef_habitat</a>
                <ul class="menu vertical nested">
                  
                    
                      <li>
                        <a href="/habitat/" >
                          About Chef Habitat
                        </a>
                      </li>
                    
                  
                    
                      <li>
                        <a href="/habitat/community/" >
                          Chef Habitat Community
                        </a>
                      </li>
                    
                  
                    
                      <li>
                        <a href="/habitat/supported_platforms/" >
                          Supported Packages &amp; Platforms
                        </a>
                      </li>
                    
                  
                </ul>
              </li>
            
          
            
              <li>
                <a href="">chef_habitat/builder</a>
                <ul class="menu vertical nested">
                  
                    
                      <li>
                        <a href="/habitat/automated-builds/" >
                          Automated Builds
                        </a>
                      </li>
                    
                  
                    
                      <li>
                        <a href="/habitat/build-helpers/" >
                          Build Helpers
                        </a>
                      </li>
                    
                  
                    
                      <li>
                        <a href="/habitat/build-phase-callbacks/" >
                          Build Phase Callbacks
                        </a>
                      </li>
                    
                  
                    
                      <li>
                        <a href="/habitat/multiple-plans-builder/" >
                          Building Multiple Packages
                        </a>
                      </li>
                    
                  
                    
                      <li>
                        <a href="/habitat/habitat-and-continuous-integration/" >
                          Chef Habitat and Continuous Integration
                        </a>
                      </li>
                    
                  
                    
                      <li>
                        <a href="/habitat/builder-architecture/" >
                          Chef Habitat Builder Architecture
                        </a>
                      </li>
                    
                  
                    
                      <li>
                        <a href="/habitat/continuous-deployment/" >
                          Continuous Deployment
                        </a>
                      </li>
                    
                  
                    
                      <li>
                        <a href="/habitat/builder-account/" >
                          Create a Builder Account
                        </a>
                      </li>
                    
                  
                    
                      <li>
                        <a href="/habitat/builder-token/" >
                          Personal Access Token Management
                        </a>
                      </li>
                    
                  
                    
                      <li>
                        <a href="/habitat/builder-origin/" >
                          Create an Origin on Builder
                        </a>
                      </li>
                    
                  
                    
                      <li>
                        <a href="/habitat/origin-secrets/" >
                          Origin Secrets
                        </a>
                      </li>
                    
                  
                    
                      <li>
                        <a href="/habitat/sharing-pkgs/" >
                          Upload and Promote Packages
                        </a>
                      </li>
                    
                  
                </ul>
              </li>
            
          
            
              <li>
                <a href="">chef_habitat/containers</a>
                <ul class="menu vertical nested">
                  
                    
                      <li>
                        <a href="/habitat/ecs-and-habitat/" >
                          Amazon ECS and Chef Habitat
                        </a>
                      </li>
                    
                  
                    
                      <li>
                        <a href="/habitat/mesos-dcos/" >
                          Apache Mesos and DC/OS
                        </a>
                      </li>
                    
                  
                    
                      <li>
                        <a href="/habitat/habitat-and-orchestration/" >
                          Chef Habitat and Container Orchestration
                        </a>
                      </li>
                    
                  
                    
                      <li>
                        <a href="/habitat/habitat-and-containers/" >
                          Chef Habitat and Containers
                        </a>
                      </li>
                    
                  
                    
                      <li>
                        <a href="/habitat/habitat-and-others/" >
                          Chef Habitat and Other Software
                        </a>
                      </li>
                    
                  
                    
                      <li>
                        <a href="/habitat/habitat-and-provisioning/" >
                          Chef Habitat and Provisioning Tools
                        </a>
                      </li>
                    
                  
                    
                      <li>
                        <a href="/habitat/container-orchestration/" >
                          Container Orchestration
                        </a>
                      </li>
                    
                  
                    
                      <li>
                        <a href="/habitat/best-practices/" >
                          containers
                        </a>
                      </li>
                    
                  
                    
                      <li>
                        <a href="/habitat/gcr-and-habitat/" >
                          Google Container Registry (GCR)
                        </a>
                      </li>
                    
                  
                </ul>
              </li>
            
          
            
              <li>
                <a href="">chef_habitat/diagrams/package-build-flow</a>
                <ul class="menu vertical nested">
                  
                    
                      <li>
                        <a href="/habitat/package-build-flow/">Initial Package Build Flow</a>
                        <ul class="menu vertical nested">
                          
                            
                              <li>
                                <a href="/habitat/application-rebuild-flow/" >Application Rebuild Flow</a>
                              </li>
                            
                          
                            
                              <li>
                                <a href="/habitat/docker-automated-flow/" >Automate Docker Container Publishing Flow</a>
                              </li>
                            
                          
                            
                              <li>
                                <a href="/habitat/kubernetes-flow/" >Chef Habitat and Kubernetes Overview</a>
                              </li>
                            
                          
                            
                              <li>
                                <a href="/habitat/architecture-overview/" >Architecture Overview</a>
                              </li>
                            
                          
                            
                              <li>
                                <a href="/habitat/on-prem-flow/" >Chef Habitat Builder on-prem Flow</a>
                              </li>
                            
                          
                            
                              <li>
                                <a href="/habitat/dependency-update-flow/" >Dependency Update Flow</a>
                              </li>
                            
                          
                            
                              <li>
                                <a href="/habitat/docker-flow/" >Docker Container Publishing Flow</a>
                              </li>
                            
                          
                            
                              <li>
                                <a href="/habitat/runtime-binding/" >Runtime Services Group Binding</a>
                              </li>
                            
                          
                        </ul>
                      </li>
                    
                  
                </ul>
              </li>
            
          
            
              <li>
                <a href="">chef_habitat/get_started</a>
                <ul class="menu vertical nested">
                  
                    
                      <li>
                        <a href="/habitat/install-habitat/" >
                          Install Chef Habitat
                        </a>
                      </li>
                    
                  
                    
                      <li>
                        <a href="/habitat/configure-workstation/" >
                          Configure the Chef Habitat CLI
                        </a>
                      </li>
                    
                  
                    
                      <li>
                        <a href="/habitat/installing-packages/" >
                          Get Chef Habitat
                        </a>
                      </li>
                    
                  
                    
                      <li>
                        <a href="/habitat/accept-the-license/" >
                          Accept the License
                        </a>
                      </li>
                    
                  
                    
                      <li>
                        <a href="/habitat/install-faq/" >
                          Download and Install FAQ
                        </a>
                      </li>
                    
                  
                </ul>
              </li>
            
          
            
              <li>
                <a href="">chef_habitat/glossary</a>
                <ul class="menu vertical nested">
                  
                    
                      <li>
                        <a href="/habitat/application-lifecycle-hooks/" >
                          Application Lifecycle Hooks
                        </a>
                      </li>
                    
                  
                </ul>
              </li>
            
          
            
              <li>
                <a href="">chef_habitat/integrations</a>
                <ul class="menu vertical nested">
                  
                    
                      <li>
                        <a href="/habitat/aks-and-habitat/" >
                          Azure Container Services (AKS)
                        </a>
                      </li>
                    
                  
                </ul>
              </li>
            
          
            
              <li>
                <a href="">chef_habitat/overview</a>
                <ul class="menu vertical nested">
                  
                    
                      <li>
                        <a href="/habitat/glossary-artifacts/" >
                          Artifacts
                        </a>
                      </li>
                    
                  
                    
                      <li>
                        <a href="/habitat/glossary-builder/" >
                          Builder
                        </a>
                      </li>
                    
                  
                    
                      <li>
                        <a href="/habitat/on-prem/" >
                          Builder on-prem
                        </a>
                      </li>
                    
                  
                    
                      <li>
                        <a href="/habitat/glossary-plan/" >
                          Chef Habitat Plans for Linux and Windows Systems
                        </a>
                      </li>
                    
                  
                    
                      <li>
                        <a href="/habitat/glossary-keys/" >
                          Keys
                        </a>
                      </li>
                    
                  
                    
                      <li>
                        <a href="/habitat/running-habitat-linux-containers/" >
                          Running Chef Habitat Linux Containers
                        </a>
                      </li>
                    
                  
                    
                      <li>
                        <a href="/habitat/running-habitat-servers/" >
                          Running Chef Habitat on Servers (Linux and Windows)
                        </a>
                      </li>
                    
                  
                    
                      <li>
                        <a href="/habitat/running-habitat-windows-containers/" >
                          Running Chef Habitat Windows Containers
                        </a>
                      </li>
                    
                  
                    
                      <li>
                        <a href="/habitat/glossary-services/" >
                          Services
                        </a>
                      </li>
                    
                  
                    
                      <li>
                        <a href="/habitat/glossary-studio/" >
                          Studio
                        </a>
                      </li>
                    
                  
                    
                      <li>
                        <a href="/habitat/glossary-supervisor/" >
                          Supervisor
                        </a>
                      </li>
                    
                  
                </ul>
              </li>
            
          
            
              <li>
                <a href="">chef_habitat/packages</a>
                <ul class="menu vertical nested is-active">
                  
                    
                      <li>
                        <a href="/habitat/artifact-export-format/" >
                          Chef Habitat Artifact Export Formats
                        </a>
                      </li>
                    
                  
                    
                      <li>
                        <a href="/habitat/package-contents/" >
                          Chef Habitat Package Contents
                        </a>
                      </li>
                    
                  
                    
                      <li>
                        <a href="/habitat/developing-packages/" >
                          Developing Packages
                        </a>
                      </li>
                    
                  
                    
                      <li>
                        <a href="/habitat/iterative-development/" >
                          Iterative Package Development
                        </a>
                      </li>
                    
                  
                    
                      <li class="active" >
                        <a href="/habitat/pkg-exports/" >
                          Package Export Formats
                        </a>
                      </li>
                    
                  
                    
                      <li>
                        <a href="/habitat/using-packages/" >
                          Running Chef Habitat Packages
                        </a>
                      </li>
                    
                  
                </ul>
              </li>
            
          
            
              <li>
                <a href="">chef_habitat/pattern_library</a>
                <ul class="menu vertical nested">
                  
                    
                      <li>
                        <a href="/habitat/pattern-library/" >
                          Pattern Library
                        </a>
                      </li>
                    
                  
                </ul>
              </li>
            
          
            
              <li>
                <a href="">chef_habitat/plans</a>
                <ul class="menu vertical nested">
                  
                    
                      <li>
                        <a href="/habitat/planwriting-guide/" >
                          Advanced Plan Writing Guide
                        </a>
                      </li>
                    
                  
                    
                      <li>
                        <a href="/habitat/glossary-hooks/" >
                          Application Lifecycle Hooks
                        </a>
                      </li>
                    
                  
                    
                      <li>
                        <a href="/habitat/binary-wrapper/" >
                          Binary Wrapper Packages
                        </a>
                      </li>
                    
                  
                    
                      <li>
                        <a href="/habitat/plan-builds/" >
                          Build
                        </a>
                      </li>
                    
                  
                    
                      <li>
                        <a href="/habitat/plan-templates/" >
                          Configuration Templates
                        </a>
                      </li>
                    
                  
                    
                      <li>
                        <a href="/habitat/pkg-binds/" >
                          Service Binds
                        </a>
                      </li>
                    
                  
                    
                      <li>
                        <a href="/habitat/plan-helpers/" >
                          Plan Helpers
                        </a>
                      </li>
                    
                  
                    
                      <li>
                        <a href="/habitat/plan-settings/" >
                          Plan Settings
                        </a>
                      </li>
                    
                  
                    
                      <li>
                        <a href="/habitat/plan-variables/" >
                          Plan Variables
                        </a>
                      </li>
                    
                  
                    
                      <li>
                        <a href="/habitat/glossary-scaffolding/" >
                          Scaffolding
                        </a>
                      </li>
                    
                  
                </ul>
              </li>
            
          
            
              <li>
                <a href="">chef_habitat/reference</a>
                <ul class="menu vertical nested">
                  
                    
                      <li>
                        <a href="/habitat/reference/" >
                          Chef Habitat Reference Overview
                        </a>
                      </li>
                    
                  
                    
                      <li>
                        <a href="/habitat/using-custom-certs/" >
                          Custom Certificates
                        </a>
                      </li>
                    
                  
                    
                      <li>
                        <a href="/habitat/environment-variables/" >
                          Environment Variables
                        </a>
                      </li>
                    
                  
                    
                      <li>
                        <a href="/habitat/habitat-cli/" >
                          hab CLI Reference
                        </a>
                      </li>
                    
                  
                    
                      <li>
                        <a href="/habitat/template-data/" >
                          Runtime Configuration Settings
                        </a>
                      </li>
                    
                  
                </ul>
              </li>
            
          
            
              <li>
                <a href="">chef_habitat/services</a>
                <ul class="menu vertical nested">
                  
                    
                      <li>
                        <a href="/habitat/file-uploads/" >
                          File Uploads
                        </a>
                      </li>
                    
                  
                    
                      <li>
                        <a href="/habitat/monitor-services/" >
                          Monitoring Services
                        </a>
                      </li>
                    
                  
                    
                      <li>
                        <a href="/habitat/config-updates/" >
                          Service Updates
                        </a>
                      </li>
                    
                  
                </ul>
              </li>
            
          
            
              <li>
                <a href="">chef_habitat/supervisiors</a>
                <ul class="menu vertical nested">
                  
                    
                      <li>
                        <a href="/habitat/robust-supervisor-networks/" >
                          Supervisor Networks
                        </a>
                      </li>
                    
                  
                </ul>
              </li>
            
          
            
              <li>
                <a href="">chef_habitat/supervisor</a>
                <ul class="menu vertical nested">
                  
                    
                      <li>
                        <a href="/habitat/internals/" >
                          Chef Habitat Internals
                        </a>
                      </li>
                    
                  
                    
                      <li>
                        <a href="/habitat/glossary-launcher/" >
                          Launcher
                        </a>
                      </li>
                    
                  
                </ul>
              </li>
            
          
            
              <li>
                <a href="">chef_habitat/supervisors</a>
                <ul class="menu vertical nested">
                  
                    
                      <li>
                        <a href="/habitat/remote-control/" >
                          Control Supervisors Remotely
                        </a>
                      </li>
                    
                  
                    
                      <li>
                        <a href="/habitat/using-encryption/" >
                          Securing Supervisor Networks
                        </a>
                      </li>
                    
                  
                    
                      <li>
                        <a href="/habitat/using-updates/" >
                          Service Group Update Strategy
                        </a>
                      </li>
                    
                  
                    
                      <li>
                        <a href="/habitat/setting-up-a-ring/" >
                          Setting Up a Ring
                        </a>
                      </li>
                    
                  
                    
                      <li>
                        <a href="/habitat/sup-log-configuration/" >
                          Supervisor Log Configuration
                        </a>
                      </li>
                    
                  
                    
                      <li>
                        <a href="/habitat/sup-log-keys/" >
                          Supervisor Log Key
                        </a>
                      </li>
                    
                  
                </ul>
              </li>
            
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
      </ul>
      <ul class="vertical menu accordion-menu show-for-small-only" data-accordion-menu>
        
          <li>
            <a href="https://www.chef.io/"  class="external" target="_blank">
            Chef.io
          </a>
          </li>
        
          <li>
            <a href="https://learn.chef.io/"  class="external" target="_blank">
            Learn Chef
          </a>
          </li>
        
          <li>
            <a href="https://blog.chef.io/"  class="external" target="_blank">
            Blog
          </a>
          </li>
        
          <li>
            <a href="https://community.chef.io/"  class="external" target="_blank">
            Community
          </a>
          </li>
        
          <li>
            <a href="https://training.chef.io/"  class="external" target="_blank">
            Training
          </a>
          </li>
        
          <li>
            <a href="https://downloads.chef.io/"  class="external" target="_blank">
            Download
          </a>
          </li>
        
      </ul>
    </div>
  </nav>
</aside>

  </div>

  <div class="off-canvas-wrapper">
    <div class="grid-container">
      <div class="grid-x">

        <div class="cell position-left off-canvas-absolute reveal-for-medium col-sidebar" id="left-nav-on-canvas" data-off-canvas data-transition="overlap" >
            


<aside class="sticky sidebar" data-sticky data-top-anchor="utility-bar:bottom" data-btm-anchor="footer:top">
  <nav id="sidebar-nav">
    <div class="nav">
      <ul class="vertical menu accordion-menu" data-accordion-menu>
        
          
          
        
          
          
        
          
          
            
              <li>

                <a href="">chef_habitat</a>
                <span class="menu_weight">Weight: 0</span>

                <ul class="menu vertical nested is-active">
                  
                    
                      <li  >
                        
                          <a href="/habitat/">About Chef Habitat</a>
                        
                        <span class="menu_weight">Weight: 10</span>
                      </li>
                    
                  
                    
                      <li  >
                        
                          <a href="/habitat/community/">Chef Habitat Community</a>
                        
                        <span class="menu_weight">Weight: 20</span>
                      </li>
                    
                  
                    
                      <li  >
                        
                          <a href="/habitat/supported_platforms/">Supported Packages &amp; Platforms</a>
                        
                        <span class="menu_weight">Weight: 20</span>
                      </li>
                    
                  
                </ul>
              </li>
            
          
            
              <li>

                <a href="">chef_habitat/builder</a>
                <span class="menu_weight">Weight: 0</span>

                <ul class="menu vertical nested is-active">
                  
                    
                      <li  >
                        
                          <a href="/habitat/automated-builds/">Automated Builds</a>
                        
                        <span class="menu_weight">Weight: 20</span>
                      </li>
                    
                  
                    
                      <li  >
                        
                          <a href="/habitat/build-helpers/">Build Helpers</a>
                        
                        <span class="menu_weight">Weight: 20</span>
                      </li>
                    
                  
                    
                      <li  >
                        
                          <a href="/habitat/build-phase-callbacks/">Build Phase Callbacks</a>
                        
                        <span class="menu_weight">Weight: 20</span>
                      </li>
                    
                  
                    
                      <li  >
                        
                          <a href="/habitat/multiple-plans-builder/">Building Multiple Packages</a>
                        
                        <span class="menu_weight">Weight: 20</span>
                      </li>
                    
                  
                    
                      <li  >
                        
                          <a href="/habitat/habitat-and-continuous-integration/">Chef Habitat and Continuous Integration</a>
                        
                        <span class="menu_weight">Weight: 20</span>
                      </li>
                    
                  
                    
                      <li  >
                        
                          <a href="/habitat/builder-architecture/">Chef Habitat Builder Architecture</a>
                        
                        <span class="menu_weight">Weight: 20</span>
                      </li>
                    
                  
                    
                      <li  >
                        
                          <a href="/habitat/continuous-deployment/">Continuous Deployment</a>
                        
                        <span class="menu_weight">Weight: 20</span>
                      </li>
                    
                  
                    
                      <li  >
                        
                          <a href="/habitat/builder-account/">Create a Builder Account</a>
                        
                        <span class="menu_weight">Weight: 20</span>
                      </li>
                    
                  
                    
                      <li  >
                        
                          <a href="/habitat/builder-token/">Personal Access Token Management</a>
                        
                        <span class="menu_weight">Weight: 20</span>
                      </li>
                    
                  
                    
                      <li  >
                        
                          <a href="/habitat/builder-origin/">Create an Origin on Builder</a>
                        
                        <span class="menu_weight">Weight: 20</span>
                      </li>
                    
                  
                    
                      <li  >
                        
                          <a href="/habitat/origin-secrets/">Origin Secrets</a>
                        
                        <span class="menu_weight">Weight: 20</span>
                      </li>
                    
                  
                    
                      <li  >
                        
                          <a href="/habitat/sharing-pkgs/">Upload and Promote Packages</a>
                        
                        <span class="menu_weight">Weight: 20</span>
                      </li>
                    
                  
                </ul>
              </li>
            
          
            
              <li>

                <a href="">chef_habitat/containers</a>
                <span class="menu_weight">Weight: 0</span>

                <ul class="menu vertical nested is-active">
                  
                    
                      <li  >
                        
                          <a href="/habitat/ecs-and-habitat/">Amazon ECS and Chef Habitat</a>
                        
                        <span class="menu_weight">Weight: 20</span>
                      </li>
                    
                  
                    
                      <li  >
                        
                          <a href="/habitat/mesos-dcos/">Apache Mesos and DC/OS</a>
                        
                        <span class="menu_weight">Weight: 20</span>
                      </li>
                    
                  
                    
                      <li  >
                        
                          <a href="/habitat/habitat-and-orchestration/">Chef Habitat and Container Orchestration</a>
                        
                        <span class="menu_weight">Weight: 20</span>
                      </li>
                    
                  
                    
                      <li  >
                        
                          <a href="/habitat/habitat-and-containers/">Chef Habitat and Containers</a>
                        
                        <span class="menu_weight">Weight: 20</span>
                      </li>
                    
                  
                    
                      <li  >
                        
                          <a href="/habitat/habitat-and-others/">Chef Habitat and Other Software</a>
                        
                        <span class="menu_weight">Weight: 20</span>
                      </li>
                    
                  
                    
                      <li  >
                        
                          <a href="/habitat/habitat-and-provisioning/">Chef Habitat and Provisioning Tools</a>
                        
                        <span class="menu_weight">Weight: 20</span>
                      </li>
                    
                  
                    
                      <li  >
                        
                          <a href="/habitat/container-orchestration/">Container Orchestration</a>
                        
                        <span class="menu_weight">Weight: 20</span>
                      </li>
                    
                  
                    
                      <li  >
                        
                          <a href="/habitat/best-practices/">containers</a>
                        
                        <span class="menu_weight">Weight: 20</span>
                      </li>
                    
                  
                    
                      <li  >
                        
                          <a href="/habitat/gcr-and-habitat/">Google Container Registry (GCR)</a>
                        
                        <span class="menu_weight">Weight: 20</span>
                      </li>
                    
                  
                </ul>
              </li>
            
          
            
              <li>

                <a href="">chef_habitat/diagrams/package-build-flow</a>
                <span class="menu_weight">Weight: 0</span>

                <ul class="menu vertical nested is-active">
                  
                    
                      <li>
                        <a href="/habitat/package-build-flow/">Initial Package Build Flow</a>
                        <span class = "menu_weight">Weight: 20</span>

                        <ul class="menu vertical nested">
                          

                            
                              <li>
                                
                                  <a href="/habitat/application-rebuild-flow/">Application Rebuild Flow</a>
                                
                                <span class="menu_weight">Weight: 20</span>
                              </li>
                            
                          

                            
                              <li>
                                
                                  <a href="/habitat/docker-automated-flow/">Automate Docker Container Publishing Flow</a>
                                
                                <span class="menu_weight">Weight: 20</span>
                              </li>
                            
                          

                            
                              <li>
                                
                                  <a href="/habitat/kubernetes-flow/">Chef Habitat and Kubernetes Overview</a>
                                
                                <span class="menu_weight">Weight: 20</span>
                              </li>
                            
                          

                            
                              <li>
                                
                                  <a href="/habitat/architecture-overview/">Architecture Overview</a>
                                
                                <span class="menu_weight">Weight: 20</span>
                              </li>
                            
                          

                            
                              <li>
                                
                                  <a href="/habitat/on-prem-flow/">Chef Habitat Builder on-prem Flow</a>
                                
                                <span class="menu_weight">Weight: 20</span>
                              </li>
                            
                          

                            
                              <li>
                                
                                  <a href="/habitat/dependency-update-flow/">Dependency Update Flow</a>
                                
                                <span class="menu_weight">Weight: 20</span>
                              </li>
                            
                          

                            
                              <li>
                                
                                  <a href="/habitat/docker-flow/">Docker Container Publishing Flow</a>
                                
                                <span class="menu_weight">Weight: 20</span>
                              </li>
                            
                          

                            
                              <li>
                                
                                  <a href="/habitat/runtime-binding/">Runtime Services Group Binding</a>
                                
                                <span class="menu_weight">Weight: 20</span>
                              </li>
                            
                          
                        </ul>
                      </li>
                    
                  
                </ul>
              </li>
            
          
            
              <li>

                <a href="">chef_habitat/get_started</a>
                <span class="menu_weight">Weight: 0</span>

                <ul class="menu vertical nested is-active">
                  
                    
                      <li  >
                        
                          <a href="/habitat/install-habitat/">Install Chef Habitat</a>
                        
                        <span class="menu_weight">Weight: 10</span>
                      </li>
                    
                  
                    
                      <li  >
                        
                          <a href="/habitat/configure-workstation/">Configure the Chef Habitat CLI</a>
                        
                        <span class="menu_weight">Weight: 20</span>
                      </li>
                    
                  
                    
                      <li  >
                        
                          <a href="/habitat/installing-packages/">Get Chef Habitat</a>
                        
                        <span class="menu_weight">Weight: 20</span>
                      </li>
                    
                  
                    
                      <li  >
                        
                          <a href="/habitat/accept-the-license/">Accept the License</a>
                        
                        <span class="menu_weight">Weight: 20</span>
                      </li>
                    
                  
                    
                      <li  >
                        
                          <a href="/habitat/install-faq/">Download and Install FAQ</a>
                        
                        <span class="menu_weight">Weight: 30</span>
                      </li>
                    
                  
                </ul>
              </li>
            
          
            
              <li>

                <a href="">chef_habitat/glossary</a>
                <span class="menu_weight">Weight: 0</span>

                <ul class="menu vertical nested is-active">
                  
                    
                      <li  >
                        
                          <a href="/habitat/application-lifecycle-hooks/">Application Lifecycle Hooks</a>
                        
                        <span class="menu_weight">Weight: 20</span>
                      </li>
                    
                  
                </ul>
              </li>
            
          
            
              <li>

                <a href="">chef_habitat/integrations</a>
                <span class="menu_weight">Weight: 0</span>

                <ul class="menu vertical nested is-active">
                  
                    
                      <li  >
                        
                          <a href="/habitat/aks-and-habitat/">Azure Container Services (AKS)</a>
                        
                        <span class="menu_weight">Weight: 20</span>
                      </li>
                    
                  
                </ul>
              </li>
            
          
            
              <li>

                <a href="">chef_habitat/overview</a>
                <span class="menu_weight">Weight: 0</span>

                <ul class="menu vertical nested is-active">
                  
                    
                      <li  >
                        
                          <a href="/habitat/glossary-artifacts/">Artifacts</a>
                        
                        <span class="menu_weight">Weight: 20</span>
                      </li>
                    
                  
                    
                      <li  >
                        
                          <a href="/habitat/glossary-builder/">Builder</a>
                        
                        <span class="menu_weight">Weight: 20</span>
                      </li>
                    
                  
                    
                      <li  >
                        
                          <a href="/habitat/on-prem/">Builder on-prem</a>
                        
                        <span class="menu_weight">Weight: 20</span>
                      </li>
                    
                  
                    
                      <li  >
                        
                          <a href="/habitat/glossary-plan/">Chef Habitat Plans for Linux and Windows Systems</a>
                        
                        <span class="menu_weight">Weight: 20</span>
                      </li>
                    
                  
                    
                      <li  >
                        
                          <a href="/habitat/glossary-keys/">Keys</a>
                        
                        <span class="menu_weight">Weight: 20</span>
                      </li>
                    
                  
                    
                      <li  >
                        
                          <a href="/habitat/running-habitat-linux-containers/">Running Chef Habitat Linux Containers</a>
                        
                        <span class="menu_weight">Weight: 20</span>
                      </li>
                    
                  
                    
                      <li  >
                        
                          <a href="/habitat/running-habitat-servers/">Running Chef Habitat on Servers (Linux and Windows)</a>
                        
                        <span class="menu_weight">Weight: 20</span>
                      </li>
                    
                  
                    
                      <li  >
                        
                          <a href="/habitat/running-habitat-windows-containers/">Running Chef Habitat Windows Containers</a>
                        
                        <span class="menu_weight">Weight: 20</span>
                      </li>
                    
                  
                    
                      <li  >
                        
                          <a href="/habitat/glossary-services/">Services</a>
                        
                        <span class="menu_weight">Weight: 20</span>
                      </li>
                    
                  
                    
                      <li  >
                        
                          <a href="/habitat/glossary-studio/">Studio</a>
                        
                        <span class="menu_weight">Weight: 20</span>
                      </li>
                    
                  
                    
                      <li  >
                        
                          <a href="/habitat/glossary-supervisor/">Supervisor</a>
                        
                        <span class="menu_weight">Weight: 20</span>
                      </li>
                    
                  
                </ul>
              </li>
            
          
            
              <li>

                <a href="">chef_habitat/packages</a>
                <span class="menu_weight">Weight: 0</span>

                <ul class="menu vertical nested is-active">
                  
                    
                      <li  >
                        
                          <a href="/habitat/artifact-export-format/">Chef Habitat Artifact Export Formats</a>
                        
                        <span class="menu_weight">Weight: 20</span>
                      </li>
                    
                  
                    
                      <li  >
                        
                          <a href="/habitat/package-contents/">Chef Habitat Package Contents</a>
                        
                        <span class="menu_weight">Weight: 20</span>
                      </li>
                    
                  
                    
                      <li  >
                        
                          <a href="/habitat/developing-packages/">Developing Packages</a>
                        
                        <span class="menu_weight">Weight: 20</span>
                      </li>
                    
                  
                    
                      <li  >
                        
                          <a href="/habitat/iterative-development/">Iterative Package Development</a>
                        
                        <span class="menu_weight">Weight: 20</span>
                      </li>
                    
                  
                    
                      <li  class="active"  >
                        
                          <a href="/habitat/pkg-exports/">Package Export Formats</a>
                        
                        <span class="menu_weight">Weight: 20</span>
                      </li>
                    
                  
                    
                      <li  >
                        
                          <a href="/habitat/using-packages/">Running Chef Habitat Packages</a>
                        
                        <span class="menu_weight">Weight: 20</span>
                      </li>
                    
                  
                </ul>
              </li>
            
          
            
              <li>

                <a href="">chef_habitat/pattern_library</a>
                <span class="menu_weight">Weight: 0</span>

                <ul class="menu vertical nested is-active">
                  
                    
                      <li  >
                        
                          <a href="/habitat/pattern-library/">Pattern Library</a>
                        
                        <span class="menu_weight">Weight: 20</span>
                      </li>
                    
                  
                </ul>
              </li>
            
          
            
              <li>

                <a href="">chef_habitat/plans</a>
                <span class="menu_weight">Weight: 0</span>

                <ul class="menu vertical nested is-active">
                  
                    
                      <li  >
                        
                          <a href="/habitat/planwriting-guide/">Advanced Plan Writing Guide</a>
                        
                        <span class="menu_weight">Weight: 20</span>
                      </li>
                    
                  
                    
                      <li  >
                        
                          <a href="/habitat/glossary-hooks/">Application Lifecycle Hooks</a>
                        
                        <span class="menu_weight">Weight: 20</span>
                      </li>
                    
                  
                    
                      <li  >
                        
                          <a href="/habitat/binary-wrapper/">Binary Wrapper Packages</a>
                        
                        <span class="menu_weight">Weight: 20</span>
                      </li>
                    
                  
                    
                      <li  >
                        
                          <a href="/habitat/plan-builds/">Build</a>
                        
                        <span class="menu_weight">Weight: 20</span>
                      </li>
                    
                  
                    
                      <li  >
                        
                          <a href="/habitat/plan-templates/">Configuration Templates</a>
                        
                        <span class="menu_weight">Weight: 20</span>
                      </li>
                    
                  
                    
                      <li  >
                        
                          <a href="/habitat/pkg-binds/">Service Binds</a>
                        
                        <span class="menu_weight">Weight: 20</span>
                      </li>
                    
                  
                    
                      <li  >
                        
                          <a href="/habitat/plan-helpers/">Plan Helpers</a>
                        
                        <span class="menu_weight">Weight: 20</span>
                      </li>
                    
                  
                    
                      <li  >
                        
                          <a href="/habitat/plan-settings/">Plan Settings</a>
                        
                        <span class="menu_weight">Weight: 20</span>
                      </li>
                    
                  
                    
                      <li  >
                        
                          <a href="/habitat/plan-variables/">Plan Variables</a>
                        
                        <span class="menu_weight">Weight: 20</span>
                      </li>
                    
                  
                    
                      <li  >
                        
                          <a href="/habitat/glossary-scaffolding/">Scaffolding</a>
                        
                        <span class="menu_weight">Weight: 20</span>
                      </li>
                    
                  
                </ul>
              </li>
            
          
            
              <li>

                <a href="">chef_habitat/reference</a>
                <span class="menu_weight">Weight: 0</span>

                <ul class="menu vertical nested is-active">
                  
                    
                      <li  >
                        
                          <a href="/habitat/reference/">Chef Habitat Reference Overview</a>
                        
                        <span class="menu_weight">Weight: 20</span>
                      </li>
                    
                  
                    
                      <li  >
                        
                          <a href="/habitat/using-custom-certs/">Custom Certificates</a>
                        
                        <span class="menu_weight">Weight: 20</span>
                      </li>
                    
                  
                    
                      <li  >
                        
                          <a href="/habitat/environment-variables/">Environment Variables</a>
                        
                        <span class="menu_weight">Weight: 20</span>
                      </li>
                    
                  
                    
                      <li  >
                        
                          <a href="/habitat/habitat-cli/">hab CLI Reference</a>
                        
                        <span class="menu_weight">Weight: 20</span>
                      </li>
                    
                  
                    
                      <li  >
                        
                          <a href="/habitat/template-data/">Runtime Configuration Settings</a>
                        
                        <span class="menu_weight">Weight: 20</span>
                      </li>
                    
                  
                </ul>
              </li>
            
          
            
              <li>

                <a href="">chef_habitat/services</a>
                <span class="menu_weight">Weight: 0</span>

                <ul class="menu vertical nested is-active">
                  
                    
                      <li  >
                        
                          <a href="/habitat/file-uploads/">File Uploads</a>
                        
                        <span class="menu_weight">Weight: 20</span>
                      </li>
                    
                  
                    
                      <li  >
                        
                          <a href="/habitat/monitor-services/">Monitoring Services</a>
                        
                        <span class="menu_weight">Weight: 20</span>
                      </li>
                    
                  
                    
                      <li  >
                        
                          <a href="/habitat/config-updates/">Service Updates</a>
                        
                        <span class="menu_weight">Weight: 20</span>
                      </li>
                    
                  
                </ul>
              </li>
            
          
            
              <li>

                <a href="">chef_habitat/supervisiors</a>
                <span class="menu_weight">Weight: 0</span>

                <ul class="menu vertical nested is-active">
                  
                    
                      <li  >
                        
                          <a href="/habitat/robust-supervisor-networks/">Supervisor Networks</a>
                        
                        <span class="menu_weight">Weight: 20</span>
                      </li>
                    
                  
                </ul>
              </li>
            
          
            
              <li>

                <a href="">chef_habitat/supervisor</a>
                <span class="menu_weight">Weight: 0</span>

                <ul class="menu vertical nested is-active">
                  
                    
                      <li  >
                        
                          <a href="/habitat/internals/">Chef Habitat Internals</a>
                        
                        <span class="menu_weight">Weight: 20</span>
                      </li>
                    
                  
                    
                      <li  >
                        
                          <a href="/habitat/glossary-launcher/">Launcher</a>
                        
                        <span class="menu_weight">Weight: 20</span>
                      </li>
                    
                  
                </ul>
              </li>
            
          
            
              <li>

                <a href="">chef_habitat/supervisors</a>
                <span class="menu_weight">Weight: 0</span>

                <ul class="menu vertical nested is-active">
                  
                    
                      <li  >
                        
                          <a href="/habitat/remote-control/">Control Supervisors Remotely</a>
                        
                        <span class="menu_weight">Weight: 20</span>
                      </li>
                    
                  
                    
                      <li  >
                        
                          <a href="/habitat/using-encryption/">Securing Supervisor Networks</a>
                        
                        <span class="menu_weight">Weight: 20</span>
                      </li>
                    
                  
                    
                      <li  >
                        
                          <a href="/habitat/using-updates/">Service Group Update Strategy</a>
                        
                        <span class="menu_weight">Weight: 20</span>
                      </li>
                    
                  
                    
                      <li  >
                        
                          <a href="/habitat/setting-up-a-ring/">Setting Up a Ring</a>
                        
                        <span class="menu_weight">Weight: 20</span>
                      </li>
                    
                  
                    
                      <li  >
                        
                          <a href="/habitat/sup-log-configuration/">Supervisor Log Configuration</a>
                        
                        <span class="menu_weight">Weight: 20</span>
                      </li>
                    
                  
                    
                      <li  >
                        
                          <a href="/habitat/sup-log-keys/">Supervisor Log Key</a>
                        
                        <span class="menu_weight">Weight: 20</span>
                      </li>
                    
                  
                </ul>
              </li>
            
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
      </ul>
    </div>
  </nav>
</aside>

        </div>

        <div id="main-content" class="cell off-canvas-content cell auto" data-off-canvas-content>
            
<main id="main-content-col" tabindex="-1">
<div class="col-content">
  <div id="package-export-formats"><h1>Package Export Formats</h1></div>

  
  
    <button type="button" class="TOC-button hide-for-large" data-toggle="offCanvasRightTOC" data-close="left-nav-off-canvas">
      <i class="fas fa-bars"></i> Table of Contents
    </button>
  
    <div class="prose">
      <h2 id="a-namepkg-exports-idpkg-exports-data-magellan-targetpkg-exports-typeanchorpackage-export-formatsa"><a name="pkg-exports" id="pkg-exports" data-magellan-target="pkg-exports" type="anchor">Package Export Formats</a></h2>
<p>You can export packages into several different external, immutable runtime formats. This topic will be updated as more formats are supported in the future. Currently there are exports for: docker, mesos, tar, and cloudfoundry.</p>
<p>The command to export a package is <code>hab pkg export &lt;FORMAT&gt; &lt;PKG_IDENT&gt;</code>. See the <a href="/docs/habitat-cli#hab-pkg-export">Chef Habitat CLI Reference Guide</a> for more CLI information.</p>
<blockquote>
<p><strong>Note</strong> If you specify an <code>origin/package</code> identifier, such as <code>core/postgresql</code>, the Chef Habitat CLI will check Builder for the latest stable version of the package and export that.</p>
</blockquote>
<blockquote>
<p>If you wish to export a package that is not on Builder, create a Chef Habitat artifact by running the <code>build</code> command, then point <code>hab pkg</code> to the <code>.hart</code> file within the <code>/results</code> directory:</p>
</blockquote>
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">hab pkg <span style="color:#007020">export</span> tar ./results/example-app.hart
</code></pre></div><p>Read on for more detailed instructions.</p>
<h3 id="exporting-to-docker">Exporting to Docker</h3>
<p>You can create a Docker container image for any package by performing the following steps:</p>
<ol>
<li>
<p>Ensure you have a Docker daemon running on your host system. On Linux, the exporter shares the Docker socket (<code>unix:///var/run/docker.sock</code>) into the studio.</p>
</li>
<li>
<p>Create an interactive studio with the <code>hab studio enter</code> command.</p>
</li>
<li>
<p><a href="/docs/developing-packages/#plan-builds">Build</a> the Chef Habitat package from which you want to create a Docker container image and then run the Docker exporter on the package.</p>
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">hab pkg <span style="color:#007020">export</span> docker ./results/&lt;hart-filename&gt;.hart
</code></pre></div><blockquote>
<p><strong>Note</strong> The command above is for local testing only. If you have uploaded your package to Builder, you can export it by calling <code>hab pkg export docker origin/package</code>. The default is to use the latest stable release; however, you can override that by specifying a different channel in an optional flag.</p>
</blockquote>
<blockquote>
<p><strong>Note</strong> On Linux, exporting your Chef Habitat artifact to a Docker image requires the Docker Engine supplied by Docker. Packages from distribution-specific or otherwise alternative providers are currently not supported.</p>
</blockquote>
<blockquote>
<p><strong>Note</strong> In a Windows container studio, the <code>export</code> command will not be able to access the host docker engine. To export a Windows package or hart file built inside of a Windows container studio, first exit the studio and then export the <code>.hart</code> file in your local <code>results</code> directory.</p>
</blockquote>
</li>
<li>
<p>You may now exit the studio. The new Docker image exists on your computer and can be examined with <code>docker images</code> or run with <code>docker run</code>.</p>
</li>
<li>
<p>Please note that when you run this docker container, you will need to pass the <code>HAB_LICENSE</code> environment variable into the container in order to accept the Habitat license. If you don&rsquo;t, your container will abort at a license acceptance prompt. One way to do this would be <code>docker run --env HAB_LICENSE=accept-no-persist IMAGE</code>. Alternatively, if you use a scheduler to run these docker containers, you should add that environment variable to your scheduler configuration.</p>
</li>
</ol>
<h3 id="exporting-to-a-tarball">Exporting to a Tarball</h3>
<ol>
<li>
<p>Enter the Chef Habitat studio by using <code>hab studio enter</code>.</p>
</li>
<li>
<p>Install or <a href="/docs/developing-packages/#plan-builds">build</a> the Chef Habitat package from which you want to create a tarball, for example:</p>
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">hab pkg install &lt;ORIGIN&gt;/&lt;NAME&gt;
</code></pre></div></li>
<li>
<p>Run the tar exporter on the package.</p>
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">hab pkg <span style="color:#007020">export</span> tar &lt;ORIGIN&gt;/&lt;NAME&gt;
</code></pre></div><p>If you receive an error, try running</p>
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">hab pkg <span style="color:#007020">export</span> tar /results/&lt;your_package&gt;.hart
</code></pre></div></li>
<li>
<p>Your package is now in a tar file that exists locally on your computer in the format <code>&lt;ORIGIN&gt;-&lt;NAME&gt;-&lt;VERSION&gt;-&lt;TIMESTAMP&gt;.tar.gz</code> and can be deployed and run on a target machine.</p>
</li>
<li>
<p>If you wish to run this tar file on a remote machine (i.e. a virtual machine in a cloud environment), scp (or whatever transfer protocol you prefer) the file to whatever you wish to run it.</p>
</li>
<li>
<p>SSH into the virtual machine</p>
</li>
<li>
<p>Run these commands to set up the required user and group:</p>
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">sudo adduser --group hab
sudo useradd -g hab hab
</code></pre></div></li>
<li>
<p>Next, unpack the tar file:</p>
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">sudo tar xf your-origin-package-version-timestamp.tar.gz
sudo cp -R hab /hab
</code></pre></div></li>
<li>
<p>Now, start the Supervisor and load your service package using the <code>hab</code> binary, which is included in the tar archive:</p>
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">sudo /hab/bin/hab sup run
sudo /hab/bin/hab svc load &lt;ORIGIN&gt;/&lt;NAME&gt;
</code></pre></div></li>
</ol>
<h3 id="exporting-to-kubernetes">Exporting to Kubernetes</h3>
<p>The Kubernetes exporter is an additional command line subcommand to the standard Chef Habitat CLI interface. It leverages the existing Docker image export functionality and, additionally, generates a Kubernetes manifest that can be deployed to a Kubernetes cluster running the Chef Habitat operator.</p>
<ol>
<li>
<p>Create an interactive studio in any directory with the <code>hab studio enter</code> command.</p>
</li>
<li>
<p>Install or <a href="/docs/developing-packages/#plan-builds">build</a> the Chef Habitat package from which you want to create an application, for example:</p>
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">hab pkg install &lt;ORIGIN&gt;/&lt;NAME&gt;
</code></pre></div></li>
<li>
<p>Run the Kubernetes exporter on the package.</p>
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">hab pkg <span style="color:#007020">export</span> kubernetes ./results/&lt;hart-filename&gt;.hart
</code></pre></div><p>You can run <code>hab pkg export kubernetes --help</code> to see the full list of available options and general help.</p>
</li>
<li>
<p>The Kubernetes exporter outputs a Kubernetes manifest yaml file. You can redirect the output to a file like this:</p>
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">hab pkg <span style="color:#007020">export</span> kubernetes ./results/&lt;hart-filename&gt;.hart -o my_app.yaml
</code></pre></div></li>
<li>
<p>To push the Docker image created by the Kubernetes exporter to Docker Hub or another container registry, use:</p>
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">hab pkg <span style="color:#007020">export</span> kubernetes --push-image --username &lt;your_docker_hub_username&gt; --password &lt;your_docker_hub_password&gt; -o my_app.yaml
</code></pre></div></li>
<li>
<p>Add the HAB_LICENSE environment variable to the generated manifest YAML file. For example, add the environmental variable directly to the generated manifest:</p>
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml">---<span style="color:#bbb">
</span><span style="color:#bbb"></span><span style="color:#007020;font-weight:bold">apiVersion</span>:<span style="color:#bbb"> </span>habitat.sh/v1beta1<span style="color:#bbb">
</span><span style="color:#bbb"></span><span style="color:#007020;font-weight:bold">kind</span>:<span style="color:#bbb"> </span>Habitat<span style="color:#bbb">
</span><span style="color:#bbb"></span><span style="color:#007020;font-weight:bold">customVersion</span>:<span style="color:#bbb"> </span>v1beta2<span style="color:#bbb">
</span><span style="color:#bbb"></span><span style="color:#007020;font-weight:bold">metadata</span>:<span style="color:#bbb">
</span><span style="color:#bbb"></span><span style="color:#60a0b0;font-style:italic">## Name of the Kubernetes resource.</span><span style="color:#bbb">
</span><span style="color:#bbb"></span><span style="color:#007020;font-weight:bold">name</span>:<span style="color:#bbb"> </span>sample-node-app<span style="color:#40a070">-1-1-0-20190516204636</span><span style="color:#bbb">
</span><span style="color:#bbb"></span><span style="color:#007020;font-weight:bold">spec</span>:<span style="color:#bbb">
</span><span style="color:#bbb"></span><span style="color:#007020;font-weight:bold">v1beta2</span>:<span style="color:#bbb">
</span><span style="color:#bbb">    </span><span style="color:#60a0b0;font-style:italic">## Name of the Habitat service package exported as a Docker image.</span><span style="color:#bbb">
</span><span style="color:#bbb">    </span><span style="color:#007020;font-weight:bold">image</span>:<span style="color:#bbb"> </span>user/sample-node-app:<span style="color:#40a070">1.1.0-20190516204636</span><span style="color:#bbb">
</span><span style="color:#bbb">    </span><span style="color:#60a0b0;font-style:italic">## Number of desired instances.</span><span style="color:#bbb">
</span><span style="color:#bbb">    </span><span style="color:#007020;font-weight:bold">count</span>:<span style="color:#bbb"> </span><span style="color:#40a070">1</span><span style="color:#bbb">
</span><span style="color:#bbb">    </span><span style="color:#60a0b0;font-style:italic">## An object containing parameters that affects how the Habitat service</span><span style="color:#bbb">
</span><span style="color:#bbb">    </span><span style="color:#60a0b0;font-style:italic">## is executed.</span><span style="color:#bbb">
</span><span style="color:#bbb">    </span><span style="color:#007020;font-weight:bold">service</span>:<span style="color:#bbb">
</span><span style="color:#bbb">    </span><span style="color:#60a0b0;font-style:italic">## Name of the Habitat service.</span><span style="color:#bbb">
</span><span style="color:#bbb">    </span><span style="color:#007020;font-weight:bold">name</span>:<span style="color:#bbb"> </span>sample-node-app<span style="color:#bbb">
</span><span style="color:#bbb">    </span><span style="color:#60a0b0;font-style:italic">## Habitat topology of the service.</span><span style="color:#bbb">
</span><span style="color:#bbb">    </span><span style="color:#007020;font-weight:bold">topology</span>:<span style="color:#bbb"> </span>standalone<span style="color:#bbb">
</span><span style="color:#bbb">    </span><span style="color:#007020;font-weight:bold">env</span>:<span style="color:#bbb">
</span><span style="color:#bbb">    </span>- <span style="color:#007020;font-weight:bold">name</span>:<span style="color:#bbb"> </span>HAB_LICENSE<span style="color:#bbb">
</span><span style="color:#bbb">      </span><span style="color:#007020;font-weight:bold">value</span>:<span style="color:#bbb"> </span>accept-no-persist<span style="color:#bbb">
</span></code></pre></div></li>
<li>
<p>You can run this manifest in your Kubernetes cluster with:</p>
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">kubectl create -f my_app.yaml
</code></pre></div></li>
<li>
<p>This will create a Kubernetes StatefulSet running your package. To access the pod running your package from the outside internet, you will need to add a Kubernetes service (i.e. a Kubernetes load balancer) with an external IP. Here is an example.</p>
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">---
apiVersion: v1
kind: Service
metadata:
name: app-0
spec:
type: LoadBalancer
selector:
    habitat-name: sample-node-app-1-1-0-20190516204636
ports:
- protocol: TCP
    port: <span style="color:#40a070">8000</span>
    targetPort: <span style="color:#40a070">8000</span>
</code></pre></div></li>
<li>
<p>You can add this service to your Kubernetes cluster with:</p>
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">kubectl create -f ./service.yml
</code></pre></div></li>
</ol>
<h3 id="export-to-a-helm-chart">Export to a Helm Chart</h3>
<p>The Helm exporter is an additional command line subcommand to the standard Chef Habitat CLI interface. It is very similar to the Kubernetes exporter but it takes you even further. It also leverages the existing Docker image export functionality but unlike the Kubernetes exporter, instead of generating a Kubernetes manifest, it creates a distributable Helm chart directory. This chart directory can not only be deployed in your local Kubernetes cluster, but also easily packaged and distributed.</p>
<p>Additionally, the Kubernetes Chef Habitat operator is automatically added to the Helm chart as a dependency and hence installed automatically as part of the Chef Habitat Helm chart.</p>
<ol>
<li>
<p>Create an interactive studio in any directory with the <code>hab studio enter</code> command.</p>
</li>
<li>
<p>Install or <a href="/docs/developing-packages/#plan-builds">build</a> the Chef Habitat package from which you want to create an application, for example:</p>
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">hab pkg install &lt;ORIGIN&gt;/&lt;NAME&gt;
</code></pre></div></li>
<li>
<p>Run the Helm exporter on the package.</p>
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">hab pkg <span style="color:#007020">export</span> helm &lt;ORIGIN&gt;/&lt;NAME&gt;
</code></pre></div><p>You can run <code>hab pkg export helm --help</code> to see the full list of available options and general help.</p>
</li>
<li>
<p>More information on how to setup Helm and use of the Helm exporter can be found on the <a href="https://blog.chef.io/habitat-and-helm/">Chef blog</a>.</p>
</li>
<li>
<p>Add the HAB_LICENSE environment variable to the generated chart, usually in the <code>templates/habitat.yaml</code> file.</p>
</li>
</ol>
<h3 id="exporting-to-apache-mesos-and-dcos">Exporting to Apache Mesos and DC/OS</h3>
<ol>
<li>
<p>Create an interactive studio in any directory with the <code>hab studio enter</code> command.</p>
</li>
<li>
<p>Install or <a href="/docs/developing-packages/#plan-builds">build</a> the Chef Habitat package from which you want to create a Marathon application, for example:</p>
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">hab pkg install &lt;ORIGIN&gt;/&lt;NAME&gt;
</code></pre></div></li>
<li>
<p>Run the Mesos exporter on the package.</p>
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">hab pkg <span style="color:#007020">export</span> mesos &lt;ORIGIN&gt;/&lt;NAME&gt;
</code></pre></div></li>
<li>
<p>This will create a Mesos container-format tarball in the results directory, and also print the JSON needed to load the application into Marathon. Note that the tarball needs to be uploaded to a download location and the &ldquo;uris&rdquo; in the JSON need to be updated manually. This is an example of the output:</p>
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-json" data-lang="json">{ <span style="color:#062873;font-weight:bold">&#34;id&#34;</span>: <span style="color:#4070a0">&#34;yourorigin/yourpackage&#34;</span>, <span style="color:#062873;font-weight:bold">&#34;cmd&#34;</span>: <span style="color:#4070a0">&#34;/bin/id -u hab &amp;&gt;/dev/null || /sbin/useradd hab; /bin/chown -R hab:hab *;
</span><span style="color:#4070a0">mount -t proc proc proc/; mount -t sysfs sys sys/;mount -o bind /dev dev/; /usr/sbin/chroot . ./init.sh start
</span><span style="color:#4070a0">yourorigin/yourpackage&#34;</span>, <span style="color:#062873;font-weight:bold">&#34;cpus&#34;</span>: <span style="color:#40a070">0.5</span>, <span style="color:#062873;font-weight:bold">&#34;disk&#34;</span>: <span style="color:#40a070">0</span>, <span style="color:#062873;font-weight:bold">&#34;mem&#34;</span>: <span style="color:#40a070">256</span>, <span style="color:#062873;font-weight:bold">&#34;instances&#34;</span>: <span style="color:#40a070">1</span>, <span style="color:#062873;font-weight:bold">&#34;uris&#34;</span>:
[<span style="color:#4070a0">&#34;https://storage.googleapis.com/mesos-habitat/yourorigin/yourpackage-0.0.1-20160611121519.tgz&#34;</span> ] }
</code></pre></div></li>
<li>
<p>Note that the default resource allocation for the application is very small: 0.5 units of CPU, no disk, one instance, and 256MB of memory. To change these resource allocations, pass different values to the Mesos exporter as command line options (defaults are documented with <code>--help</code>).</p>
</li>
<li>
<p>See the article <a href="/docs/best-practices/#mesos-dcos">Apaches Mesos and DC/OS</a> for more information on getting your application running on Mesos.</p>
</li>
</ol>
<h3 id="exporting-to-cloud-foundry">Exporting to Cloud Foundry</h3>
<p>Packages can be exported to run in a <a href="https://www.cloudfoundry.org/certified-platforms/">Cloud Foundry platform</a> through the use of a Docker image that contains additional layers meant to handle mapping from the Cloud Foundry environment to a Chef Habitat default.toml file.</p>
<h4 id="setting-up-docker-support-in-cloud-foundry">Setting up Docker Support in Cloud Foundry</h4>
<p>If you have not done so already, you must enable Docker support for Cloud Foundry before you can upload your Cloud Foundry-specific Docker image.</p>
<p>To do so, make sure you have done the following:</p>
<ol>
<li>Log in as an Admin user.</li>
<li>Enable Docker support on your Cloud Foundry deployment by enabling the <code>diego_docker</code> feature flag.</li>
</ol>
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">cf enable-feature-flag diego_docker
</code></pre></div><h4 id="creating-a-mapping-file">Creating a Mapping File</h4>
<p>The mapping file is a TOML file that can add Bash-interpolated variables and scripts. The Bash code will have access to:</p>
<ul>
<li>all environment variables</li>
<li>the jq binary</li>
<li>the helper methods listed below</li>
</ul>
<p>Here&rsquo;s an example of a mapping TOML file named <code>cf-mapping.toml</code>:</p>
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-toml" data-lang="toml">secret_key_base = <span style="color:#4070a0">&#34;$SECRET_KEY_BASE&#34;</span>
rails_env = <span style="color:#4070a0">&#34;$RAILS_ENV&#34;</span>
port = <span style="">${</span>PORT<span style="">}</span>

[db]
user = <span style="color:#4070a0">&#34;$(service &#34;</span>elephantsql<span style="color:#4070a0">&#34; &#39;.credentials.username&#39;)&#34;</span>
password = <span style="color:#4070a0">&#34;$(service &#34;</span>elephantsql<span style="color:#4070a0">&#34; &#39;.credentials.password&#39;)&#34;</span>
host = <span style="color:#4070a0">&#34;$(service &#34;</span>elephantsql<span style="color:#4070a0">&#34; &#39;.credentials.host&#39;)&#34;</span>
name = <span style="color:#4070a0">&#34;$(service &#34;</span>elephantsql<span style="color:#4070a0">&#34; &#39;.credentials.database&#39;)&#34;</span>
</code></pre></div><h4 id="helpers">Helpers</h4>
<p>The helper methods are designed to extract information from the standard Cloud Foundry environment variables <a href="https://docs.cloudfoundry.org/devguide/deploy-apps/environment-variable.html#VCAP-SERVICES">VCAP_SERVICES</a> and <a href="https://docs.cloudfoundry.org/devguide/deploy-apps/environment-variable.html#VCAP-APPLICATION">VCAP_APPLICATION</a>.</p>
<ul>
<li><code>service &lt;service-name&gt; &lt;jq-expression&gt;</code> will extract the JSON associated with the given service-name from the <code>VCAP_SERVICES</code> environment variable and apply the jq-expression to it.</li>
<li><code>application &lt;jq-expression&gt;</code> will apply the jq-expression to the <code>VCAP_APPLICATION</code> environment variable</li>
</ul>
<h3 id="exporting-and-pushing-to-a-cloud-foundry-endpoint">Exporting and Pushing to a Cloud Foundry Endpoint</h3>
<ol>
<li>
<p>Create a mapping.toml file using the format specified above and place that file in your local project repo.</p>
</li>
<li>
<p>Enter the Studio through <code>hab studio enter</code>.</p>
</li>
<li>
<p>Install or <a href="/docs/developing-packages/#plan-builds">build</a> the package that you want to export.</p>
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">hab pkg install &lt;ORIGIN&gt;/&lt;NAME&gt;
</code></pre></div></li>
<li>
<p>Run the Cloud Foundry exporter on the package.</p>
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">hab pkg <span style="color:#007020">export</span> cf &lt;ORIGIN&gt;/&lt;NAME&gt; /path/to/mapping.toml
</code></pre></div><blockquote>
<p><strong>Note</strong> To generate this image, a base Docker image is also created. The Cloud Foundry version of the docker image will have <code>cf-</code> as a prefix in the image tag.</p>
</blockquote>
</li>
<li>
<p>(Optional) If you are creating a web app that binds to another Cloud Foundry service, such as ElephantSQL, you must have this service enabled in your deployment before running your app.</p>
</li>
<li>
<p><a href="https://docs.cloudfoundry.org/devguide/deploy-apps/push-docker.html">Upload your Docker image to a supported registry</a>. Your Docker repository should be match the <code>origin/package</code> identifier of your package.</p>
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">docker push origin/package:cf-version-release
</code></pre></div></li>
<li>
<p>After your Cloud Foundry Docker image is built, you can deploy it to a Cloud Foundry platform.</p>
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">cf push APP-NAME --docker-image docker_org/repository
</code></pre></div><p>Your application will start after it has been successfully uploaded and deployed.</p>
</li>
</ol>

    </div>
  </div>
</main>

        </div>

        
        
          <div class="cell off-canvas position-right toc off-canvas-absolute reveal-for-large" id="onCanvasRightTOC" data-off-canvas >
            <aside class="sticky sidebar" data-sticky data-top-anchor="utility-bar:bottom" data-btm-anchor="footer:top">
  <span>
    <strong>
      <h4 class="mini-toc-header">Table Of Contents</h4>
    </strong>
    <button class="close-button hide-for-large" aria-label="Close menu" type="button" data-close>
      <span aria-hidden="true">&times;</span>
    </button>
  </span>
  <a href="#package-export-formats">Package Export Formats</a><nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li><a href="#a-namepkg-exports-idpkg-exports-data-magellan-targetpkg-exports-typeanchorpackage-export-formatsa"><a name="pkg-exports" id="pkg-exports" data-magellan-target="pkg-exports" type="anchor">Package Export Formats</a></a>
          <ul>
            <li><a href="#exporting-to-docker">Exporting to Docker</a></li>
            <li><a href="#exporting-to-a-tarball">Exporting to a Tarball</a></li>
            <li><a href="#exporting-to-kubernetes">Exporting to Kubernetes</a></li>
            <li><a href="#export-to-a-helm-chart">Export to a Helm Chart</a></li>
            <li><a href="#exporting-to-apache-mesos-and-dcos">Exporting to Apache Mesos and DC/OS</a></li>
            <li><a href="#exporting-to-cloud-foundry">Exporting to Cloud Foundry</a></li>
            <li><a href="#exporting-and-pushing-to-a-cloud-foundry-endpoint">Exporting and Pushing to a Cloud Foundry Endpoint</a></li>
          </ul>
        </li>
      </ul>
    </li>
  </ul>
</nav></aside>

          </div>
        

      </div>
    </div>
  </div>

  
  

    <div class="off-canvas position-right toc off-canvas-absolute hide-for-large" id="offCanvasRightTOC" data-off-canvas
      data-transition="overlap">
      <aside class="sticky sidebar" data-sticky data-top-anchor="utility-bar:bottom" data-btm-anchor="footer:top">
  <span>
    <strong>
      <h4 class="mini-toc-header">Table Of Contents</h4>
    </strong>
    <button class="close-button hide-for-large" aria-label="Close menu" type="button" data-close>
      <span aria-hidden="true">&times;</span>
    </button>
  </span>
  <a href="#package-export-formats">Package Export Formats</a><nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li><a href="#a-namepkg-exports-idpkg-exports-data-magellan-targetpkg-exports-typeanchorpackage-export-formatsa"><a name="pkg-exports" id="pkg-exports" data-magellan-target="pkg-exports" type="anchor">Package Export Formats</a></a>
          <ul>
            <li><a href="#exporting-to-docker">Exporting to Docker</a></li>
            <li><a href="#exporting-to-a-tarball">Exporting to a Tarball</a></li>
            <li><a href="#exporting-to-kubernetes">Exporting to Kubernetes</a></li>
            <li><a href="#export-to-a-helm-chart">Export to a Helm Chart</a></li>
            <li><a href="#exporting-to-apache-mesos-and-dcos">Exporting to Apache Mesos and DC/OS</a></li>
            <li><a href="#exporting-to-cloud-foundry">Exporting to Cloud Foundry</a></li>
            <li><a href="#exporting-and-pushing-to-a-cloud-foundry-endpoint">Exporting and Pushing to a Cloud Foundry Endpoint</a></li>
          </ul>
        </li>
      </ul>
    </li>
  </ul>
</nav></aside>

    </div>

  

  <div id="footer" class="cell small-12">
    <div class="grid-x">
      <div class="cell small-12">
        <nav>
          
<footer id="footer">
  <div class="grid-container">
    <div class="grid-x align-middle">
      <div class="cell small-12 large-3 logo"><a href="/"><img src="/images/chef-logo-light.svg" alt="Habitat Documentation"></a></div>
      <div class="cell small-12 large-9">
        <ul class="menu vertical medium-horizontal">
          <li><a href="/sitemap/" target="_self">Site Map</a></li>
          <li><a href="https://www.chef.io/online-master-agreement/" target="_blank">Licensing</a></li>
          <li><a href="https://www.chef.io/terms-of-service/" target="_blank">Terms &amp; Conditions</a></li>
          <li><a href="https://www.chef.io/trademark-policy/" target="_blank">Trademark Policy</a></li>
          <li><a href="https://www.chef.io/privacy-policy/" target="_blank">Privacy Policy</a></li>
          <li><a href="https://www.chef.io/cookie-policy/" target="_blank">Cookie Policy</a></li>
        </ul>
        
          <p class="modified">Page Last Modified: 0001-01-01 00:00:00 &#43;0000 UTC</p>
        
        <p class="legal">&copy; 2008-2020 Chef Software, Inc. All Rights Reserved.</p>
      </div>
    </div>
  </div>
</footer>

        </nav>
      </div>
    </div>
  </div>
  
<script src="/js/core-bundle.min.b46adaaa9b34baa80cf4b98cb38321e111475886368cfc1e52ed3afcc03b5b22.js" type="text/javascript"></script>
<script src="/js/custom-bundle.min.e560508c0a1795f3e94b9dc46263787768b40136412317331f860cdc22837c6a.js" type="text/javascript"></script>
<script type="text/javascript">
  (function(w,d,t,u,n,s,e){w['SwiftypeObject']=n;w[n]=w[n]||function(){
  (w[n].q=w[n].q||[]).push(arguments);};s=d.createElement(t);
  e=d.getElementsByTagName(t)[0];s.async=1;s.src=u;e.parentNode.insertBefore(s,e);
  })(window,document,'script','//s.swiftypecdn.com/install/v2/st.js','_st');
  
  _st('install','s1Pemn_yrUKJw9_K5zRT','2.0.0');
</script>

  </body>
</html>
