<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<meta name="robots" content="">
  <title>Package Binds</title>
  <link rel="shortcut icon" type="image/png" href="/images/favicon.ico" />
  
  
  <link rel="stylesheet" href="/sass/main.css" />
  <link rel="stylesheet" href="/css/habitat.css" />
</head>

<body>
  <a class="skip-main" href="#main-content-col">Skip to main content</a>

  <nav id="utility-bar" class = "show-for-medium">
    <div class="utility-bar-logo">
      <a href="/"><img src="/images/chef-logo.svg" alt="Chef Documentation" class="chef"></a>
    </div>

    <ul class="menu align-right top-nav">
      
      <li><a href="https://www.chef.io/">Chef.io</a></li>
      
      <li><a href="https://learn.chef.io/">Learn Chef</a></li>
      
      <li><a href="https://blog.chef.io/">Blog</a></li>
      
      <li><a href="https://community.chef.io/">Community</a></li>
      
      <li><a href="https://training.chef.io/">Training</a></li>
      
      <li><a href="https://downloads.chef.io/">Download</a></li>
      
    </ul>
</nav>

  <nav id="utility-bar" class = "show-for-small-only">
  <div class="">
    <button id="header-toggle" type="button" class="utility-bar-nav-bars " data-toggle="left-nav-off-canvas">
      <i class="fas fa-bars fa-lg"></i>
    </button>
    <div class="utility-bar-logo">
      <a href="/"><img src="/images/chef-logo.svg" alt="Chef Documentation" class="chef"></a>
    </div>
  </div>
</nav>


  <div id="left-nav-off-canvas" class="hide-for-medium" data-toggler=".reveal">
    


<aside class="sticky" data-sticky data-top-anchor="utility-bar:bottom" data-btm-anchor="footer:top" data-margin-top="0" data-margin-bottom="2">
  <div>
    <button class="close-button" data-toggle="left-nav-off-canvas">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <nav id="sidebar-nav" class="offCanvas">
    
      <div class="search">
        <form class="basic-form" method="" action="">
          <input type="text" class="st-default-search-input" placeholder="Search...">
        </form>
      </div>
    
    <div class="nav">
      <ul class="vertical menu accordion-menu" data-accordion-menu>
        
          
          
        
          
          
        
          
          
            
              <li>
                <a href="">chef_habitat</a>
                <ul class="menu vertical nested">
                  
                    
                      <li>
                        <a href="/habitat/" >
                          About Chef Habitat
                        </a>
                      </li>
                    
                  
                    
                      <li>
                        <a href="/habitat/community/" >
                          Chef Habitat Community
                        </a>
                      </li>
                    
                  
                    
                      <li>
                        <a href="/habitat/supported_platforms/" >
                          Supported Packages &amp; Platforms
                        </a>
                      </li>
                    
                  
                </ul>
              </li>
            
          
            
              <li>
                <a href="">chef_habitat/builder</a>
                <ul class="menu vertical nested">
                  
                    
                      <li>
                        <a href="/habitat/automated-builds/" >
                          Automated Builds
                        </a>
                      </li>
                    
                  
                    
                      <li>
                        <a href="/habitat/build-helpers/" >
                          Build Helpers
                        </a>
                      </li>
                    
                  
                    
                      <li>
                        <a href="/habitat/build-phase-callbacks/" >
                          Build Phase Callbacks
                        </a>
                      </li>
                    
                  
                    
                      <li>
                        <a href="/habitat/multiple-plans-builder/" >
                          Building Multiple Packages
                        </a>
                      </li>
                    
                  
                    
                      <li>
                        <a href="/habitat/habitat-and-continuous-integration/" >
                          Chef Habitat and Continuous Integration
                        </a>
                      </li>
                    
                  
                    
                      <li>
                        <a href="/habitat/builder-architecture/" >
                          Chef Habitat Builder Architecture
                        </a>
                      </li>
                    
                  
                    
                      <li>
                        <a href="/habitat/continuous-deployment/" >
                          Continuous Deployment
                        </a>
                      </li>
                    
                  
                    
                      <li>
                        <a href="/habitat/builder-account/" >
                          Create a Builder Account
                        </a>
                      </li>
                    
                  
                    
                      <li>
                        <a href="/habitat/builder-token/" >
                          Personal Access Token Management
                        </a>
                      </li>
                    
                  
                    
                      <li>
                        <a href="/habitat/builder-origin/" >
                          Create an Origin on Builder
                        </a>
                      </li>
                    
                  
                    
                      <li>
                        <a href="/habitat/origin-secrets/" >
                          Origin Secrets
                        </a>
                      </li>
                    
                  
                    
                      <li>
                        <a href="/habitat/sharing-pkgs/" >
                          Upload and Promote Packages
                        </a>
                      </li>
                    
                  
                </ul>
              </li>
            
          
            
              <li>
                <a href="">chef_habitat/containers</a>
                <ul class="menu vertical nested">
                  
                    
                      <li>
                        <a href="/habitat/ecs-and-habitat/" >
                          Amazon ECS and Chef Habitat
                        </a>
                      </li>
                    
                  
                    
                      <li>
                        <a href="/habitat/mesos-dcos/" >
                          Apache Mesos and DC/OS
                        </a>
                      </li>
                    
                  
                    
                      <li>
                        <a href="/habitat/habitat-and-orchestration/" >
                          Chef Habitat and Container Orchestration
                        </a>
                      </li>
                    
                  
                    
                      <li>
                        <a href="/habitat/habitat-and-containers/" >
                          Chef Habitat and Containers
                        </a>
                      </li>
                    
                  
                    
                      <li>
                        <a href="/habitat/habitat-and-others/" >
                          Chef Habitat and Other Software
                        </a>
                      </li>
                    
                  
                    
                      <li>
                        <a href="/habitat/habitat-and-provisioning/" >
                          Chef Habitat and Provisioning Tools
                        </a>
                      </li>
                    
                  
                    
                      <li>
                        <a href="/habitat/container-orchestration/" >
                          Container Orchestration
                        </a>
                      </li>
                    
                  
                    
                      <li>
                        <a href="/habitat/best-practices/" >
                          containers
                        </a>
                      </li>
                    
                  
                    
                      <li>
                        <a href="/habitat/gcr-and-habitat/" >
                          Google Container Registry (GCR)
                        </a>
                      </li>
                    
                  
                </ul>
              </li>
            
          
            
              <li>
                <a href="">chef_habitat/diagrams/package-build-flow</a>
                <ul class="menu vertical nested">
                  
                    
                      <li>
                        <a href="/habitat/package-build-flow/">Initial Package Build Flow</a>
                        <ul class="menu vertical nested">
                          
                            
                              <li>
                                <a href="/habitat/application-rebuild-flow/" >Application Rebuild Flow</a>
                              </li>
                            
                          
                            
                              <li>
                                <a href="/habitat/docker-automated-flow/" >Automate Docker Container Publishing Flow</a>
                              </li>
                            
                          
                            
                              <li>
                                <a href="/habitat/kubernetes-flow/" >Chef Habitat and Kubernetes Overview</a>
                              </li>
                            
                          
                            
                              <li>
                                <a href="/habitat/architecture-overview/" >Architecture Overview</a>
                              </li>
                            
                          
                            
                              <li>
                                <a href="/habitat/on-prem-flow/" >Chef Habitat Builder on-prem Flow</a>
                              </li>
                            
                          
                            
                              <li>
                                <a href="/habitat/dependency-update-flow/" >Dependency Update Flow</a>
                              </li>
                            
                          
                            
                              <li>
                                <a href="/habitat/docker-flow/" >Docker Container Publishing Flow</a>
                              </li>
                            
                          
                            
                              <li>
                                <a href="/habitat/runtime-binding/" >Runtime Services Group Binding</a>
                              </li>
                            
                          
                        </ul>
                      </li>
                    
                  
                </ul>
              </li>
            
          
            
              <li>
                <a href="">chef_habitat/get_started</a>
                <ul class="menu vertical nested">
                  
                    
                      <li>
                        <a href="/habitat/install-habitat/" >
                          Install Chef Habitat
                        </a>
                      </li>
                    
                  
                    
                      <li>
                        <a href="/habitat/configure-workstation/" >
                          Configure the Chef Habitat CLI
                        </a>
                      </li>
                    
                  
                    
                      <li>
                        <a href="/habitat/installing-packages/" >
                          Get Chef Habitat
                        </a>
                      </li>
                    
                  
                    
                      <li>
                        <a href="/habitat/accept-the-license/" >
                          Accept the License
                        </a>
                      </li>
                    
                  
                    
                      <li>
                        <a href="/habitat/install-faq/" >
                          Download and Install FAQ
                        </a>
                      </li>
                    
                  
                </ul>
              </li>
            
          
            
              <li>
                <a href="">chef_habitat/glossary</a>
                <ul class="menu vertical nested">
                  
                    
                      <li>
                        <a href="/habitat/application-lifecycle-hooks/" >
                          Application Lifecycle Hooks
                        </a>
                      </li>
                    
                  
                </ul>
              </li>
            
          
            
              <li>
                <a href="">chef_habitat/integrations</a>
                <ul class="menu vertical nested">
                  
                    
                      <li>
                        <a href="/habitat/aks-and-habitat/" >
                          Azure Container Services (AKS)
                        </a>
                      </li>
                    
                  
                </ul>
              </li>
            
          
            
              <li>
                <a href="">chef_habitat/overview</a>
                <ul class="menu vertical nested">
                  
                    
                      <li>
                        <a href="/habitat/glossary-artifacts/" >
                          Artifacts
                        </a>
                      </li>
                    
                  
                    
                      <li>
                        <a href="/habitat/glossary-builder/" >
                          Builder
                        </a>
                      </li>
                    
                  
                    
                      <li>
                        <a href="/habitat/on-prem/" >
                          Builder on-prem
                        </a>
                      </li>
                    
                  
                    
                      <li>
                        <a href="/habitat/glossary-plan/" >
                          Chef Habitat Plans for Linux and Windows Systems
                        </a>
                      </li>
                    
                  
                    
                      <li>
                        <a href="/habitat/glossary-keys/" >
                          Keys
                        </a>
                      </li>
                    
                  
                    
                      <li>
                        <a href="/habitat/running-habitat-linux-containers/" >
                          Running Chef Habitat Linux Containers
                        </a>
                      </li>
                    
                  
                    
                      <li>
                        <a href="/habitat/running-habitat-servers/" >
                          Running Chef Habitat on Servers (Linux and Windows)
                        </a>
                      </li>
                    
                  
                    
                      <li>
                        <a href="/habitat/running-habitat-windows-containers/" >
                          Running Chef Habitat Windows Containers
                        </a>
                      </li>
                    
                  
                    
                      <li>
                        <a href="/habitat/glossary-services/" >
                          Services
                        </a>
                      </li>
                    
                  
                    
                      <li>
                        <a href="/habitat/glossary-studio/" >
                          Studio
                        </a>
                      </li>
                    
                  
                    
                      <li>
                        <a href="/habitat/glossary-supervisor/" >
                          Supervisor
                        </a>
                      </li>
                    
                  
                </ul>
              </li>
            
          
            
              <li>
                <a href="">chef_habitat/packages</a>
                <ul class="menu vertical nested">
                  
                    
                      <li>
                        <a href="/habitat/artifact-export-format/" >
                          Chef Habitat Artifact Export Formats
                        </a>
                      </li>
                    
                  
                    
                      <li>
                        <a href="/habitat/package-contents/" >
                          Chef Habitat Package Contents
                        </a>
                      </li>
                    
                  
                    
                      <li>
                        <a href="/habitat/developing-packages/" >
                          Developing Packages
                        </a>
                      </li>
                    
                  
                    
                      <li>
                        <a href="/habitat/iterative-development/" >
                          Iterative Package Development
                        </a>
                      </li>
                    
                  
                    
                      <li>
                        <a href="/habitat/pkg-exports/" >
                          Package Export Formats
                        </a>
                      </li>
                    
                  
                    
                      <li>
                        <a href="/habitat/using-packages/" >
                          Running Chef Habitat Packages
                        </a>
                      </li>
                    
                  
                </ul>
              </li>
            
          
            
              <li>
                <a href="">chef_habitat/pattern_library</a>
                <ul class="menu vertical nested">
                  
                    
                      <li>
                        <a href="/habitat/pattern-library/" >
                          Pattern Library
                        </a>
                      </li>
                    
                  
                </ul>
              </li>
            
          
            
              <li>
                <a href="">chef_habitat/plans</a>
                <ul class="menu vertical nested is-active">
                  
                    
                      <li>
                        <a href="/habitat/planwriting-guide/" >
                          Advanced Plan Writing Guide
                        </a>
                      </li>
                    
                  
                    
                      <li>
                        <a href="/habitat/glossary-hooks/" >
                          Application Lifecycle Hooks
                        </a>
                      </li>
                    
                  
                    
                      <li>
                        <a href="/habitat/binary-wrapper/" >
                          Binary Wrapper Packages
                        </a>
                      </li>
                    
                  
                    
                      <li>
                        <a href="/habitat/plan-builds/" >
                          Build
                        </a>
                      </li>
                    
                  
                    
                      <li>
                        <a href="/habitat/plan-templates/" >
                          Configuration Templates
                        </a>
                      </li>
                    
                  
                    
                      <li class="active" >
                        <a href="/habitat/pkg-binds/" >
                          Service Binds
                        </a>
                      </li>
                    
                  
                    
                      <li>
                        <a href="/habitat/plan-helpers/" >
                          Plan Helpers
                        </a>
                      </li>
                    
                  
                    
                      <li>
                        <a href="/habitat/plan-settings/" >
                          Plan Settings
                        </a>
                      </li>
                    
                  
                    
                      <li>
                        <a href="/habitat/plan-variables/" >
                          Plan Variables
                        </a>
                      </li>
                    
                  
                    
                      <li>
                        <a href="/habitat/glossary-scaffolding/" >
                          Scaffolding
                        </a>
                      </li>
                    
                  
                </ul>
              </li>
            
          
            
              <li>
                <a href="">chef_habitat/reference</a>
                <ul class="menu vertical nested">
                  
                    
                      <li>
                        <a href="/habitat/reference/" >
                          Chef Habitat Reference Overview
                        </a>
                      </li>
                    
                  
                    
                      <li>
                        <a href="/habitat/using-custom-certs/" >
                          Custom Certificates
                        </a>
                      </li>
                    
                  
                    
                      <li>
                        <a href="/habitat/environment-variables/" >
                          Environment Variables
                        </a>
                      </li>
                    
                  
                    
                      <li>
                        <a href="/habitat/habitat-cli/" >
                          hab CLI Reference
                        </a>
                      </li>
                    
                  
                    
                      <li>
                        <a href="/habitat/template-data/" >
                          Runtime Configuration Settings
                        </a>
                      </li>
                    
                  
                </ul>
              </li>
            
          
            
              <li>
                <a href="">chef_habitat/services</a>
                <ul class="menu vertical nested">
                  
                    
                      <li>
                        <a href="/habitat/file-uploads/" >
                          File Uploads
                        </a>
                      </li>
                    
                  
                    
                      <li>
                        <a href="/habitat/monitor-services/" >
                          Monitoring Services
                        </a>
                      </li>
                    
                  
                    
                      <li>
                        <a href="/habitat/config-updates/" >
                          Service Updates
                        </a>
                      </li>
                    
                  
                </ul>
              </li>
            
          
            
              <li>
                <a href="">chef_habitat/supervisiors</a>
                <ul class="menu vertical nested">
                  
                    
                      <li>
                        <a href="/habitat/robust-supervisor-networks/" >
                          Supervisor Networks
                        </a>
                      </li>
                    
                  
                </ul>
              </li>
            
          
            
              <li>
                <a href="">chef_habitat/supervisor</a>
                <ul class="menu vertical nested">
                  
                    
                      <li>
                        <a href="/habitat/internals/" >
                          Chef Habitat Internals
                        </a>
                      </li>
                    
                  
                    
                      <li>
                        <a href="/habitat/glossary-launcher/" >
                          Launcher
                        </a>
                      </li>
                    
                  
                </ul>
              </li>
            
          
            
              <li>
                <a href="">chef_habitat/supervisors</a>
                <ul class="menu vertical nested">
                  
                    
                      <li>
                        <a href="/habitat/remote-control/" >
                          Control Supervisors Remotely
                        </a>
                      </li>
                    
                  
                    
                      <li>
                        <a href="/habitat/using-encryption/" >
                          Securing Supervisor Networks
                        </a>
                      </li>
                    
                  
                    
                      <li>
                        <a href="/habitat/using-updates/" >
                          Service Group Update Strategy
                        </a>
                      </li>
                    
                  
                    
                      <li>
                        <a href="/habitat/setting-up-a-ring/" >
                          Setting Up a Ring
                        </a>
                      </li>
                    
                  
                    
                      <li>
                        <a href="/habitat/sup-log-configuration/" >
                          Supervisor Log Configuration
                        </a>
                      </li>
                    
                  
                    
                      <li>
                        <a href="/habitat/sup-log-keys/" >
                          Supervisor Log Key
                        </a>
                      </li>
                    
                  
                </ul>
              </li>
            
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
      </ul>
      <ul class="vertical menu accordion-menu show-for-small-only" data-accordion-menu>
        
          <li>
            <a href="https://www.chef.io/"  class="external" target="_blank">
            Chef.io
          </a>
          </li>
        
          <li>
            <a href="https://learn.chef.io/"  class="external" target="_blank">
            Learn Chef
          </a>
          </li>
        
          <li>
            <a href="https://blog.chef.io/"  class="external" target="_blank">
            Blog
          </a>
          </li>
        
          <li>
            <a href="https://community.chef.io/"  class="external" target="_blank">
            Community
          </a>
          </li>
        
          <li>
            <a href="https://training.chef.io/"  class="external" target="_blank">
            Training
          </a>
          </li>
        
          <li>
            <a href="https://downloads.chef.io/"  class="external" target="_blank">
            Download
          </a>
          </li>
        
      </ul>
    </div>
  </nav>
</aside>

  </div>

  <div class="off-canvas-wrapper">
    <div class="grid-container">
      <div class="grid-x">

        <div class="cell position-left off-canvas-absolute reveal-for-medium col-sidebar" id="left-nav-on-canvas" data-off-canvas data-transition="overlap" >
            


<aside class="sticky sidebar" data-sticky data-top-anchor="utility-bar:bottom" data-btm-anchor="footer:top">
  <nav id="sidebar-nav">
    <div class="nav">
      <ul class="vertical menu accordion-menu" data-accordion-menu>
        
          
          
        
          
          
        
          
          
            
              <li>

                <a href="">chef_habitat</a>
                <span class="menu_weight">Weight: 0</span>

                <ul class="menu vertical nested is-active">
                  
                    
                      <li  >
                        
                          <a href="/habitat/">About Chef Habitat</a>
                        
                        <span class="menu_weight">Weight: 10</span>
                      </li>
                    
                  
                    
                      <li  >
                        
                          <a href="/habitat/community/">Chef Habitat Community</a>
                        
                        <span class="menu_weight">Weight: 20</span>
                      </li>
                    
                  
                    
                      <li  >
                        
                          <a href="/habitat/supported_platforms/">Supported Packages &amp; Platforms</a>
                        
                        <span class="menu_weight">Weight: 20</span>
                      </li>
                    
                  
                </ul>
              </li>
            
          
            
              <li>

                <a href="">chef_habitat/builder</a>
                <span class="menu_weight">Weight: 0</span>

                <ul class="menu vertical nested is-active">
                  
                    
                      <li  >
                        
                          <a href="/habitat/automated-builds/">Automated Builds</a>
                        
                        <span class="menu_weight">Weight: 20</span>
                      </li>
                    
                  
                    
                      <li  >
                        
                          <a href="/habitat/build-helpers/">Build Helpers</a>
                        
                        <span class="menu_weight">Weight: 20</span>
                      </li>
                    
                  
                    
                      <li  >
                        
                          <a href="/habitat/build-phase-callbacks/">Build Phase Callbacks</a>
                        
                        <span class="menu_weight">Weight: 20</span>
                      </li>
                    
                  
                    
                      <li  >
                        
                          <a href="/habitat/multiple-plans-builder/">Building Multiple Packages</a>
                        
                        <span class="menu_weight">Weight: 20</span>
                      </li>
                    
                  
                    
                      <li  >
                        
                          <a href="/habitat/habitat-and-continuous-integration/">Chef Habitat and Continuous Integration</a>
                        
                        <span class="menu_weight">Weight: 20</span>
                      </li>
                    
                  
                    
                      <li  >
                        
                          <a href="/habitat/builder-architecture/">Chef Habitat Builder Architecture</a>
                        
                        <span class="menu_weight">Weight: 20</span>
                      </li>
                    
                  
                    
                      <li  >
                        
                          <a href="/habitat/continuous-deployment/">Continuous Deployment</a>
                        
                        <span class="menu_weight">Weight: 20</span>
                      </li>
                    
                  
                    
                      <li  >
                        
                          <a href="/habitat/builder-account/">Create a Builder Account</a>
                        
                        <span class="menu_weight">Weight: 20</span>
                      </li>
                    
                  
                    
                      <li  >
                        
                          <a href="/habitat/builder-token/">Personal Access Token Management</a>
                        
                        <span class="menu_weight">Weight: 20</span>
                      </li>
                    
                  
                    
                      <li  >
                        
                          <a href="/habitat/builder-origin/">Create an Origin on Builder</a>
                        
                        <span class="menu_weight">Weight: 20</span>
                      </li>
                    
                  
                    
                      <li  >
                        
                          <a href="/habitat/origin-secrets/">Origin Secrets</a>
                        
                        <span class="menu_weight">Weight: 20</span>
                      </li>
                    
                  
                    
                      <li  >
                        
                          <a href="/habitat/sharing-pkgs/">Upload and Promote Packages</a>
                        
                        <span class="menu_weight">Weight: 20</span>
                      </li>
                    
                  
                </ul>
              </li>
            
          
            
              <li>

                <a href="">chef_habitat/containers</a>
                <span class="menu_weight">Weight: 0</span>

                <ul class="menu vertical nested is-active">
                  
                    
                      <li  >
                        
                          <a href="/habitat/ecs-and-habitat/">Amazon ECS and Chef Habitat</a>
                        
                        <span class="menu_weight">Weight: 20</span>
                      </li>
                    
                  
                    
                      <li  >
                        
                          <a href="/habitat/mesos-dcos/">Apache Mesos and DC/OS</a>
                        
                        <span class="menu_weight">Weight: 20</span>
                      </li>
                    
                  
                    
                      <li  >
                        
                          <a href="/habitat/habitat-and-orchestration/">Chef Habitat and Container Orchestration</a>
                        
                        <span class="menu_weight">Weight: 20</span>
                      </li>
                    
                  
                    
                      <li  >
                        
                          <a href="/habitat/habitat-and-containers/">Chef Habitat and Containers</a>
                        
                        <span class="menu_weight">Weight: 20</span>
                      </li>
                    
                  
                    
                      <li  >
                        
                          <a href="/habitat/habitat-and-others/">Chef Habitat and Other Software</a>
                        
                        <span class="menu_weight">Weight: 20</span>
                      </li>
                    
                  
                    
                      <li  >
                        
                          <a href="/habitat/habitat-and-provisioning/">Chef Habitat and Provisioning Tools</a>
                        
                        <span class="menu_weight">Weight: 20</span>
                      </li>
                    
                  
                    
                      <li  >
                        
                          <a href="/habitat/container-orchestration/">Container Orchestration</a>
                        
                        <span class="menu_weight">Weight: 20</span>
                      </li>
                    
                  
                    
                      <li  >
                        
                          <a href="/habitat/best-practices/">containers</a>
                        
                        <span class="menu_weight">Weight: 20</span>
                      </li>
                    
                  
                    
                      <li  >
                        
                          <a href="/habitat/gcr-and-habitat/">Google Container Registry (GCR)</a>
                        
                        <span class="menu_weight">Weight: 20</span>
                      </li>
                    
                  
                </ul>
              </li>
            
          
            
              <li>

                <a href="">chef_habitat/diagrams/package-build-flow</a>
                <span class="menu_weight">Weight: 0</span>

                <ul class="menu vertical nested is-active">
                  
                    
                      <li>
                        <a href="/habitat/package-build-flow/">Initial Package Build Flow</a>
                        <span class = "menu_weight">Weight: 20</span>

                        <ul class="menu vertical nested">
                          

                            
                              <li>
                                
                                  <a href="/habitat/application-rebuild-flow/">Application Rebuild Flow</a>
                                
                                <span class="menu_weight">Weight: 20</span>
                              </li>
                            
                          

                            
                              <li>
                                
                                  <a href="/habitat/docker-automated-flow/">Automate Docker Container Publishing Flow</a>
                                
                                <span class="menu_weight">Weight: 20</span>
                              </li>
                            
                          

                            
                              <li>
                                
                                  <a href="/habitat/kubernetes-flow/">Chef Habitat and Kubernetes Overview</a>
                                
                                <span class="menu_weight">Weight: 20</span>
                              </li>
                            
                          

                            
                              <li>
                                
                                  <a href="/habitat/architecture-overview/">Architecture Overview</a>
                                
                                <span class="menu_weight">Weight: 20</span>
                              </li>
                            
                          

                            
                              <li>
                                
                                  <a href="/habitat/on-prem-flow/">Chef Habitat Builder on-prem Flow</a>
                                
                                <span class="menu_weight">Weight: 20</span>
                              </li>
                            
                          

                            
                              <li>
                                
                                  <a href="/habitat/dependency-update-flow/">Dependency Update Flow</a>
                                
                                <span class="menu_weight">Weight: 20</span>
                              </li>
                            
                          

                            
                              <li>
                                
                                  <a href="/habitat/docker-flow/">Docker Container Publishing Flow</a>
                                
                                <span class="menu_weight">Weight: 20</span>
                              </li>
                            
                          

                            
                              <li>
                                
                                  <a href="/habitat/runtime-binding/">Runtime Services Group Binding</a>
                                
                                <span class="menu_weight">Weight: 20</span>
                              </li>
                            
                          
                        </ul>
                      </li>
                    
                  
                </ul>
              </li>
            
          
            
              <li>

                <a href="">chef_habitat/get_started</a>
                <span class="menu_weight">Weight: 0</span>

                <ul class="menu vertical nested is-active">
                  
                    
                      <li  >
                        
                          <a href="/habitat/install-habitat/">Install Chef Habitat</a>
                        
                        <span class="menu_weight">Weight: 10</span>
                      </li>
                    
                  
                    
                      <li  >
                        
                          <a href="/habitat/configure-workstation/">Configure the Chef Habitat CLI</a>
                        
                        <span class="menu_weight">Weight: 20</span>
                      </li>
                    
                  
                    
                      <li  >
                        
                          <a href="/habitat/installing-packages/">Get Chef Habitat</a>
                        
                        <span class="menu_weight">Weight: 20</span>
                      </li>
                    
                  
                    
                      <li  >
                        
                          <a href="/habitat/accept-the-license/">Accept the License</a>
                        
                        <span class="menu_weight">Weight: 20</span>
                      </li>
                    
                  
                    
                      <li  >
                        
                          <a href="/habitat/install-faq/">Download and Install FAQ</a>
                        
                        <span class="menu_weight">Weight: 30</span>
                      </li>
                    
                  
                </ul>
              </li>
            
          
            
              <li>

                <a href="">chef_habitat/glossary</a>
                <span class="menu_weight">Weight: 0</span>

                <ul class="menu vertical nested is-active">
                  
                    
                      <li  >
                        
                          <a href="/habitat/application-lifecycle-hooks/">Application Lifecycle Hooks</a>
                        
                        <span class="menu_weight">Weight: 20</span>
                      </li>
                    
                  
                </ul>
              </li>
            
          
            
              <li>

                <a href="">chef_habitat/integrations</a>
                <span class="menu_weight">Weight: 0</span>

                <ul class="menu vertical nested is-active">
                  
                    
                      <li  >
                        
                          <a href="/habitat/aks-and-habitat/">Azure Container Services (AKS)</a>
                        
                        <span class="menu_weight">Weight: 20</span>
                      </li>
                    
                  
                </ul>
              </li>
            
          
            
              <li>

                <a href="">chef_habitat/overview</a>
                <span class="menu_weight">Weight: 0</span>

                <ul class="menu vertical nested is-active">
                  
                    
                      <li  >
                        
                          <a href="/habitat/glossary-artifacts/">Artifacts</a>
                        
                        <span class="menu_weight">Weight: 20</span>
                      </li>
                    
                  
                    
                      <li  >
                        
                          <a href="/habitat/glossary-builder/">Builder</a>
                        
                        <span class="menu_weight">Weight: 20</span>
                      </li>
                    
                  
                    
                      <li  >
                        
                          <a href="/habitat/on-prem/">Builder on-prem</a>
                        
                        <span class="menu_weight">Weight: 20</span>
                      </li>
                    
                  
                    
                      <li  >
                        
                          <a href="/habitat/glossary-plan/">Chef Habitat Plans for Linux and Windows Systems</a>
                        
                        <span class="menu_weight">Weight: 20</span>
                      </li>
                    
                  
                    
                      <li  >
                        
                          <a href="/habitat/glossary-keys/">Keys</a>
                        
                        <span class="menu_weight">Weight: 20</span>
                      </li>
                    
                  
                    
                      <li  >
                        
                          <a href="/habitat/running-habitat-linux-containers/">Running Chef Habitat Linux Containers</a>
                        
                        <span class="menu_weight">Weight: 20</span>
                      </li>
                    
                  
                    
                      <li  >
                        
                          <a href="/habitat/running-habitat-servers/">Running Chef Habitat on Servers (Linux and Windows)</a>
                        
                        <span class="menu_weight">Weight: 20</span>
                      </li>
                    
                  
                    
                      <li  >
                        
                          <a href="/habitat/running-habitat-windows-containers/">Running Chef Habitat Windows Containers</a>
                        
                        <span class="menu_weight">Weight: 20</span>
                      </li>
                    
                  
                    
                      <li  >
                        
                          <a href="/habitat/glossary-services/">Services</a>
                        
                        <span class="menu_weight">Weight: 20</span>
                      </li>
                    
                  
                    
                      <li  >
                        
                          <a href="/habitat/glossary-studio/">Studio</a>
                        
                        <span class="menu_weight">Weight: 20</span>
                      </li>
                    
                  
                    
                      <li  >
                        
                          <a href="/habitat/glossary-supervisor/">Supervisor</a>
                        
                        <span class="menu_weight">Weight: 20</span>
                      </li>
                    
                  
                </ul>
              </li>
            
          
            
              <li>

                <a href="">chef_habitat/packages</a>
                <span class="menu_weight">Weight: 0</span>

                <ul class="menu vertical nested is-active">
                  
                    
                      <li  >
                        
                          <a href="/habitat/artifact-export-format/">Chef Habitat Artifact Export Formats</a>
                        
                        <span class="menu_weight">Weight: 20</span>
                      </li>
                    
                  
                    
                      <li  >
                        
                          <a href="/habitat/package-contents/">Chef Habitat Package Contents</a>
                        
                        <span class="menu_weight">Weight: 20</span>
                      </li>
                    
                  
                    
                      <li  >
                        
                          <a href="/habitat/developing-packages/">Developing Packages</a>
                        
                        <span class="menu_weight">Weight: 20</span>
                      </li>
                    
                  
                    
                      <li  >
                        
                          <a href="/habitat/iterative-development/">Iterative Package Development</a>
                        
                        <span class="menu_weight">Weight: 20</span>
                      </li>
                    
                  
                    
                      <li  >
                        
                          <a href="/habitat/pkg-exports/">Package Export Formats</a>
                        
                        <span class="menu_weight">Weight: 20</span>
                      </li>
                    
                  
                    
                      <li  >
                        
                          <a href="/habitat/using-packages/">Running Chef Habitat Packages</a>
                        
                        <span class="menu_weight">Weight: 20</span>
                      </li>
                    
                  
                </ul>
              </li>
            
          
            
              <li>

                <a href="">chef_habitat/pattern_library</a>
                <span class="menu_weight">Weight: 0</span>

                <ul class="menu vertical nested is-active">
                  
                    
                      <li  >
                        
                          <a href="/habitat/pattern-library/">Pattern Library</a>
                        
                        <span class="menu_weight">Weight: 20</span>
                      </li>
                    
                  
                </ul>
              </li>
            
          
            
              <li>

                <a href="">chef_habitat/plans</a>
                <span class="menu_weight">Weight: 0</span>

                <ul class="menu vertical nested is-active">
                  
                    
                      <li  >
                        
                          <a href="/habitat/planwriting-guide/">Advanced Plan Writing Guide</a>
                        
                        <span class="menu_weight">Weight: 20</span>
                      </li>
                    
                  
                    
                      <li  >
                        
                          <a href="/habitat/glossary-hooks/">Application Lifecycle Hooks</a>
                        
                        <span class="menu_weight">Weight: 20</span>
                      </li>
                    
                  
                    
                      <li  >
                        
                          <a href="/habitat/binary-wrapper/">Binary Wrapper Packages</a>
                        
                        <span class="menu_weight">Weight: 20</span>
                      </li>
                    
                  
                    
                      <li  >
                        
                          <a href="/habitat/plan-builds/">Build</a>
                        
                        <span class="menu_weight">Weight: 20</span>
                      </li>
                    
                  
                    
                      <li  >
                        
                          <a href="/habitat/plan-templates/">Configuration Templates</a>
                        
                        <span class="menu_weight">Weight: 20</span>
                      </li>
                    
                  
                    
                      <li  class="active"  >
                        
                          <a href="/habitat/pkg-binds/">Service Binds</a>
                        
                        <span class="menu_weight">Weight: 20</span>
                      </li>
                    
                  
                    
                      <li  >
                        
                          <a href="/habitat/plan-helpers/">Plan Helpers</a>
                        
                        <span class="menu_weight">Weight: 20</span>
                      </li>
                    
                  
                    
                      <li  >
                        
                          <a href="/habitat/plan-settings/">Plan Settings</a>
                        
                        <span class="menu_weight">Weight: 20</span>
                      </li>
                    
                  
                    
                      <li  >
                        
                          <a href="/habitat/plan-variables/">Plan Variables</a>
                        
                        <span class="menu_weight">Weight: 20</span>
                      </li>
                    
                  
                    
                      <li  >
                        
                          <a href="/habitat/glossary-scaffolding/">Scaffolding</a>
                        
                        <span class="menu_weight">Weight: 20</span>
                      </li>
                    
                  
                </ul>
              </li>
            
          
            
              <li>

                <a href="">chef_habitat/reference</a>
                <span class="menu_weight">Weight: 0</span>

                <ul class="menu vertical nested is-active">
                  
                    
                      <li  >
                        
                          <a href="/habitat/reference/">Chef Habitat Reference Overview</a>
                        
                        <span class="menu_weight">Weight: 20</span>
                      </li>
                    
                  
                    
                      <li  >
                        
                          <a href="/habitat/using-custom-certs/">Custom Certificates</a>
                        
                        <span class="menu_weight">Weight: 20</span>
                      </li>
                    
                  
                    
                      <li  >
                        
                          <a href="/habitat/environment-variables/">Environment Variables</a>
                        
                        <span class="menu_weight">Weight: 20</span>
                      </li>
                    
                  
                    
                      <li  >
                        
                          <a href="/habitat/habitat-cli/">hab CLI Reference</a>
                        
                        <span class="menu_weight">Weight: 20</span>
                      </li>
                    
                  
                    
                      <li  >
                        
                          <a href="/habitat/template-data/">Runtime Configuration Settings</a>
                        
                        <span class="menu_weight">Weight: 20</span>
                      </li>
                    
                  
                </ul>
              </li>
            
          
            
              <li>

                <a href="">chef_habitat/services</a>
                <span class="menu_weight">Weight: 0</span>

                <ul class="menu vertical nested is-active">
                  
                    
                      <li  >
                        
                          <a href="/habitat/file-uploads/">File Uploads</a>
                        
                        <span class="menu_weight">Weight: 20</span>
                      </li>
                    
                  
                    
                      <li  >
                        
                          <a href="/habitat/monitor-services/">Monitoring Services</a>
                        
                        <span class="menu_weight">Weight: 20</span>
                      </li>
                    
                  
                    
                      <li  >
                        
                          <a href="/habitat/config-updates/">Service Updates</a>
                        
                        <span class="menu_weight">Weight: 20</span>
                      </li>
                    
                  
                </ul>
              </li>
            
          
            
              <li>

                <a href="">chef_habitat/supervisiors</a>
                <span class="menu_weight">Weight: 0</span>

                <ul class="menu vertical nested is-active">
                  
                    
                      <li  >
                        
                          <a href="/habitat/robust-supervisor-networks/">Supervisor Networks</a>
                        
                        <span class="menu_weight">Weight: 20</span>
                      </li>
                    
                  
                </ul>
              </li>
            
          
            
              <li>

                <a href="">chef_habitat/supervisor</a>
                <span class="menu_weight">Weight: 0</span>

                <ul class="menu vertical nested is-active">
                  
                    
                      <li  >
                        
                          <a href="/habitat/internals/">Chef Habitat Internals</a>
                        
                        <span class="menu_weight">Weight: 20</span>
                      </li>
                    
                  
                    
                      <li  >
                        
                          <a href="/habitat/glossary-launcher/">Launcher</a>
                        
                        <span class="menu_weight">Weight: 20</span>
                      </li>
                    
                  
                </ul>
              </li>
            
          
            
              <li>

                <a href="">chef_habitat/supervisors</a>
                <span class="menu_weight">Weight: 0</span>

                <ul class="menu vertical nested is-active">
                  
                    
                      <li  >
                        
                          <a href="/habitat/remote-control/">Control Supervisors Remotely</a>
                        
                        <span class="menu_weight">Weight: 20</span>
                      </li>
                    
                  
                    
                      <li  >
                        
                          <a href="/habitat/using-encryption/">Securing Supervisor Networks</a>
                        
                        <span class="menu_weight">Weight: 20</span>
                      </li>
                    
                  
                    
                      <li  >
                        
                          <a href="/habitat/using-updates/">Service Group Update Strategy</a>
                        
                        <span class="menu_weight">Weight: 20</span>
                      </li>
                    
                  
                    
                      <li  >
                        
                          <a href="/habitat/setting-up-a-ring/">Setting Up a Ring</a>
                        
                        <span class="menu_weight">Weight: 20</span>
                      </li>
                    
                  
                    
                      <li  >
                        
                          <a href="/habitat/sup-log-configuration/">Supervisor Log Configuration</a>
                        
                        <span class="menu_weight">Weight: 20</span>
                      </li>
                    
                  
                    
                      <li  >
                        
                          <a href="/habitat/sup-log-keys/">Supervisor Log Key</a>
                        
                        <span class="menu_weight">Weight: 20</span>
                      </li>
                    
                  
                </ul>
              </li>
            
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
      </ul>
    </div>
  </nav>
</aside>

        </div>

        <div id="main-content" class="cell off-canvas-content cell auto" data-off-canvas-content>
            
<main id="main-content-col" tabindex="-1">
<div class="col-content">
  <div id="package-binds"><h1>Package Binds</h1></div>

  
  
    <button type="button" class="TOC-button hide-for-large" data-toggle="offCanvasRightTOC" data-close="left-nav-off-canvas">
      <i class="fas fa-bars"></i> Table of Contents
    </button>
  
    <div class="prose">
      <h2 id="a-namepkg-binds-idpkg-binds-data-magellan-targetpkg-binds-typeanchorruntime-binds-and-exportsa"><a name="pkg-binds" id="pkg-binds" data-magellan-target="pkg-binds" type="anchor">Runtime Binds and Exports</a></h2>
<p><em>Runtime binding</em> in Chef Habitat refers to the ability for one service group to connect to another, forming a producer-consumer relationship where the consumer service can use the producer service&rsquo;s current configuration in order to configure itself at runtime. When the producer&rsquo;s configuration change, the consumer is notified and can reconfigure itself as needed.</p>
<p>With runtime binding, a consumer service can use a &ldquo;binding name&rdquo; of their choosing in their configuration and lifecycle hook templates as a kind of handle to refer to the configuration values they need from the producer service. This name isn&rsquo;t inherently tied to any particular package or service group name. Instead, when the service is run, users associate a service group with that binding name, which gives Chef Habitat all the information it needs to wire the producer and consumer services together.</p>
<p>Let&rsquo;s look at how we set up this relationship in detail.</p>
<h3 id="defining-the-producer-contract">Defining the Producer Contract</h3>
<p>A producer service defines its contract by &ldquo;exporting&rdquo; a subset of its runtime configuration. This is done by defining values in the <code>pkg_exports</code> associative array defined in your package&rsquo;s <code>plan.sh</code>. For example, a database server named <code>amnesia</code> might define the following exports:</p>
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#bb60d5">pkg_exports</span><span style="color:#666">=(</span>
  <span style="color:#666">[</span>port<span style="color:#666">]=</span>network.port
  <span style="color:#666">[</span>ssl-port<span style="color:#666">]=</span>network.ssl.port
<span style="color:#666">)</span>
</code></pre></div><p>Note that Powershell plans use hashtables where Bash plans use associative arrays. A <code>plan.ps1</code> would declare its exports as:</p>
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-powershell" data-lang="powershell"><span style="color:#bb60d5">$pkg_exports</span>=@{
  port=<span style="color:#4070a0">&#34;network.port&#34;</span>
  ssl-port=<span style="color:#4070a0">&#34;network.ssl.port&#34;</span>
}
</code></pre></div><p>This will export the runtime values of its <code>network.port</code> and <code>network.ssl.port</code> configuration entries publicly as <code>port</code> and <code>ssl-port</code>, respectively. All configuration entries in <code>pkg_exports</code> must have a default value in <code>default.toml</code>, but the actual exported values will change at runtime to reflect the producer&rsquo;s current configuration. When values change (such as when an operator uses <code>hab config apply</code>), the consumer service will be notified that its producer service configuration has changed. We&rsquo;ll see how to use this on the consumer in the sections below.</p>
<p>Producer services export only the <em>subset</em> of their configuration that is defined through <code>pkg_exports</code> and not the entire thing. Consumer services see only what the producer service exports, and nothing more. This is important, because it means that configuration that must remain secret&ndash;such as passwords&ndash;are not shared <em>unless</em> they are explicitly defined in <code>pkg_exports</code>.</p>
<p>Additionally, the internal structure of the producer&rsquo;s configuration is independent of the exported interface it presents. In our example, <code>ssl-port</code> originally comes from a deeply-nested <code>network.ssl.port</code> value. However, the exported interface is <em>flat</em>, effectively a non-nested set of key-value pairs.</p>
<h3 id="defining-the-consumer-contract">Defining the Consumer Contract</h3>
<p>The consumer service defines a &ldquo;binding name&rdquo; as a handle to refer to a service group from which it receives configuration data. However, it must do more than just name the bind, it must also state the configuration values it expects from the service group. Chef Habitat will make sure that whatever service group is bound actually exports the expected values to the consumer service.</p>
<p>As an example, let&rsquo;s say we have an application server, called <code>session-server</code>, that needs to connect to a database service, and needs both a &ldquo;port&rdquo; and an &ldquo;ssl-port&rdquo; in order to make that connection. We can describe this relationship in our <code>plan.sh</code> file like so:</p>
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#bb60d5">pkg_binds</span><span style="color:#666">=(</span>
  <span style="color:#666">[</span>database<span style="color:#666">]=</span><span style="color:#4070a0">&#34;port ssl-port&#34;</span>
<span style="color:#666">)</span>
</code></pre></div><p>Here, <code>pkg_binds</code> is an associative array. The key (&ldquo;database&rdquo;) is the binding name, while the value (&ldquo;port ssl-port&rdquo;) is a space-delimited list of the exported configuration the binding requires. A consumer can specify multiple binds; each would be an individual entry in this associative array. Judging from this, the producer we described above would be a good candidate for this application server to bind to, because it exports both a &ldquo;port&rdquo; and an &ldquo;ssl-port&rdquo;.</p>
<p>A bound service group may export additional values, but they cannot export less and still satisfy the contract.</p>
<p>Chef Habitat only matches services up at the syntactic, not semantic, level of this contract. If you bind to a service that exports a &ldquo;port&rdquo;, Chef Habitat only knows that the service exports something called &ldquo;port&rdquo;; it could be the port for a PostgreSQL database, or it could be the port of an application server. You will need to ensure that you connect the correct services together; Chef Habitat&rsquo;s binds provide the means by which you express these relationships. You are, however, free to create bind names and export names that are meaningful for you.</p>
<h4 id="the-difference-between-_pkg_binds_-and-_pkg_binds_optional_">The Difference Between <em>pkg_binds</em> and <em>pkg_binds_optional</em></h4>
<p>In addition to the <code>pkg_binds</code> array, Plan authors may also specify <code>pkg_binds_optional</code>. It has exactly the same structure as <code>pkg_binds</code>, but, as the name implies, these bindings are <em>optional</em>; however, it is worth examining exactly what is meant by &ldquo;optional&rdquo; in this case.</p>
<p>In order to load a service into the Supervisor, each bind defined in <code>pkg_binds</code> <em>must</em> be mapped to a service group; if any of these binds are not mapped, then the Supervisor will refuse to load the service.</p>
<p>Binds defined in <code>pkg_binds_optional</code>, on the other hand, <em>may</em> be mapped when loading a service. If a service group mapping is not defined at load time, the Supervisor will load the service without question. As an extreme example, a service could have no <code>pkg_binds</code> entries, and five <code>pkg_binds_optional</code> entries; such a service could be loaded with no binds mapped, one bind mapped, all the way to mapping all five binds.</p>
<p>There are several scenarios where optional binds may be useful:</p>
<ul>
<li>
<p>A service may have some default functionality which may be overridden at load-time by mapping an optional binding. Perhaps you have some kind of artifact repository service that, in the absence of a &ldquo;remote-store&rdquo; bind stores data on the local filesystem. However, if <code>remote-store</code> is bound to an appropriate S3 API-compatible service, such as <a href="https://www.minio.io">Minio</a>, it could modify its behavior to store data remotely.</p>
</li>
<li>
<p>A service can be optionally bind to a service to unlock additional features. For example, say you have an application that may run with or without a caching layer. You can model this using an optional bind named (say), &ldquo;cache&rdquo;. If you wish to run without the caching functionality enabled, you can start the service without specifying a service group mapping for the &ldquo;cache&rdquo; bind. Since the bind is optional, it is not needed for Chef Habitat to run your service. However, if you do wish to run with the caching enabled, you can specify a service group mapping, e.g. <code>hab svc load acme/my-app --bind=cache:redis.prod</code>. In this scenario, your service&rsquo;s configuration can pull configuration values from the <code>redis.prod</code> service group, enabling it to use Redis as a caching layer.</p>
</li>
<li>
<p>A service may can optionally bind one of several services; if bind &ldquo;X&rdquo; is mapped, operate <em>this</em> way; if &ldquo;Y&rdquo; is mapped, operate <em>that</em> way. An application that could use either a Redis backend or a PostgreSQL backend, depending on the deployment scenario, could declare optional &ldquo;redis&rdquo; and &ldquo;postgresql&rdquo; bindings, and pick which one to map at service load-time. If this is your use case, Chef Habitat does not have a way to encode the fact that &ldquo;one and only one of these optional bindings should be mapped&rdquo;, so you will have to manage that on your own.</p>
</li>
</ul>
<h3 id="service-start-up-behavior">Service Start-up Behavior</h3>
<p>Prior to Chef Habitat 0.56.0, if the service group that you bound to was not present in the Supervisor network census, or had no live members, your service would not start until the group was present with live members. While this can be desirable behavior in some cases, as with running certain legacy applications, it is not always desirable, particularly for modern microservice applications, which should be able to gracefully cope with the absence of their networked dependencies.</p>
<p>With 0.56.0, however, this behavior can be modified using the new runtime service option <code>--binding-mode</code>. By setting <code>--binding-mode=relaxed</code> when loading a service, that service can start immediately, whether there are any members of a bound service group present or not. (Setting <code>--binding-mode=strict</code> will give you the previous, start-only-after-all-bound-groups-are-present behavior. This is also the current default, though <code>relaxed</code> will be the eventual default for Chef Habitat 1.0.0.). Such a service should have configuration and lifecycle hook templates written in such a way that the service can remain operational (though perhaps with reduced functionality) when there are no live members of a bound service group present in the network census.</p>
<h4 id="the-difference-between-required-binds-optional-binds-and-binding-mode">The Difference Between Required Binds, Optional Binds, and Binding Mode</h4>
<p>While there is a bit of overlap in these concepts, they are distinct. It&rsquo;s best to think of required and optional binds as defining &ldquo;how applications can be wired together&rdquo; (specifically, which &ldquo;wires&rdquo; must be connected in order to provide the minimal amount of information needed to run a service). Binding mode, on the other hand, defines how the application&rsquo;s start-up behavior is affected the presence or absence of its networked dependencies.</p>
<p>Another useful thing to keep in mind when thinking about required and optional binds is that service group mappings currently cannot be dynamically changed at runtime. They can only be changed by stopping a service, reloading the service with a new set of options, and then starting it up again. This constraint (which may change in future versions of Chef Habitat) may help guide your choice between what should be a required bind, and what should be optional, particularly when using the relaxed binding mode.</p>
<h3 id="using-runtime-binds-with-consumer-services">Using Runtime Binds with Consumer Services</h3>
<p>Once you&rsquo;ve defined both ends of the contract, you can leverage the bind in any of your package&rsquo;s hooks or configuration files. Given the two example services above, a section of a configuration file for <code>session-server</code> might look like this:</p>
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-handlebars" data-lang="handlebars"><span style="color:#007020">{{</span><span style="">~</span><span style="color:#007020;font-weight:bold">#each</span> <span style="color:#bb60d5">bind.database.members</span> <span style="color:#bb60d5">as</span> <span style="">|</span><span style="color:#bb60d5">member</span><span style="">|</span><span style="color:#007020">}}</span>
  database = &#34;<span style="color:#007020">{{</span><span style="color:#bb60d5">member.sys.ip</span><span style="color:#007020">}}</span>:<span style="color:#007020">{{</span><span style="color:#bb60d5">member.cfg.port</span><span style="color:#007020">}}</span>&#34;
  database-secure = &#34;<span style="color:#007020">{{</span><span style="color:#bb60d5">member.sys.ip</span><span style="color:#007020">}}</span>:<span style="color:#007020">{{</span><span style="color:#bb60d5">member.cfg.ssl-port</span><span style="color:#007020">}}</span>&#34;
<span style="color:#007020">{{</span><span style="">~</span><span style="color:#007020;font-weight:bold">/each</span><span style="color:#007020">}}</span>
</code></pre></div><p>Here, <code>bind.&lt;BINDING_NAME&gt;</code> will be &ldquo;truthy&rdquo; (and can thus be used in boolean expressions) only if the bind has been satisfied, and <code>bind.&lt;BINDING_NAME&gt;.members</code> will be an array of only active members.</p>
<p>(Prior to Chef Habitat 0.56.0, <code>bind.&lt;BINDING_NAME&gt;</code> was always present, and <code>bind.&lt;BINDING_NAME&gt;.members</code> had <em>all</em> members, even ones that had left the Supervisor network long ago. This necessitated using the <code>eachAlive</code> helper function, instead of just <code>each</code>.)</p>
<h3 id="starting-a-consumer-service">Starting a Consumer Service</h3>
<p>Since your application server defined <code>database</code> as a required bind, you&rsquo;ll need to provide the name of a service group running a package which fulfills the contract using the <code>--bind</code> parameter to the Supervisor. For example, running the following:</p>
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">hab svc load &lt;ORIGIN&gt;/&lt;NAME&gt; --bind database:amnesia.default
</code></pre></div><p>would create a bind aliasing <code>database</code> to the <code>amnesia</code> service in the <code>default</code> service group.</p>
<p>The service group passed to <code>--bind database:{service}.{group}</code> doesn&rsquo;t <em>need</em> to be the service <code>amnesia</code>. This bind can be any service as long as they export a configuration key for <code>port</code> and <code>ssl-port</code>.</p>
<p>You can declare bindings to multiple service groups in your templates by using the <code>--bind</code> option multiple times on the command line. Your service will not start if your package has declared a required bind and a value for it was not specified by <code>--bind</code>.</p>

    </div>
  </div>
</main>

        </div>

        
        
          <div class="cell off-canvas position-right toc off-canvas-absolute reveal-for-large" id="onCanvasRightTOC" data-off-canvas >
            <aside class="sticky sidebar" data-sticky data-top-anchor="utility-bar:bottom" data-btm-anchor="footer:top">
  <span>
    <strong>
      <h4 class="mini-toc-header">Table Of Contents</h4>
    </strong>
    <button class="close-button hide-for-large" aria-label="Close menu" type="button" data-close>
      <span aria-hidden="true">&times;</span>
    </button>
  </span>
  <a href="#package-binds">Package Binds</a><nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li><a href="#a-namepkg-binds-idpkg-binds-data-magellan-targetpkg-binds-typeanchorruntime-binds-and-exportsa"><a name="pkg-binds" id="pkg-binds" data-magellan-target="pkg-binds" type="anchor">Runtime Binds and Exports</a></a>
          <ul>
            <li><a href="#defining-the-producer-contract">Defining the Producer Contract</a></li>
            <li><a href="#defining-the-consumer-contract">Defining the Consumer Contract</a></li>
            <li><a href="#service-start-up-behavior">Service Start-up Behavior</a></li>
            <li><a href="#using-runtime-binds-with-consumer-services">Using Runtime Binds with Consumer Services</a></li>
            <li><a href="#starting-a-consumer-service">Starting a Consumer Service</a></li>
          </ul>
        </li>
      </ul>
    </li>
  </ul>
</nav></aside>

          </div>
        

      </div>
    </div>
  </div>

  
  

    <div class="off-canvas position-right toc off-canvas-absolute hide-for-large" id="offCanvasRightTOC" data-off-canvas
      data-transition="overlap">
      <aside class="sticky sidebar" data-sticky data-top-anchor="utility-bar:bottom" data-btm-anchor="footer:top">
  <span>
    <strong>
      <h4 class="mini-toc-header">Table Of Contents</h4>
    </strong>
    <button class="close-button hide-for-large" aria-label="Close menu" type="button" data-close>
      <span aria-hidden="true">&times;</span>
    </button>
  </span>
  <a href="#package-binds">Package Binds</a><nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li><a href="#a-namepkg-binds-idpkg-binds-data-magellan-targetpkg-binds-typeanchorruntime-binds-and-exportsa"><a name="pkg-binds" id="pkg-binds" data-magellan-target="pkg-binds" type="anchor">Runtime Binds and Exports</a></a>
          <ul>
            <li><a href="#defining-the-producer-contract">Defining the Producer Contract</a></li>
            <li><a href="#defining-the-consumer-contract">Defining the Consumer Contract</a></li>
            <li><a href="#service-start-up-behavior">Service Start-up Behavior</a></li>
            <li><a href="#using-runtime-binds-with-consumer-services">Using Runtime Binds with Consumer Services</a></li>
            <li><a href="#starting-a-consumer-service">Starting a Consumer Service</a></li>
          </ul>
        </li>
      </ul>
    </li>
  </ul>
</nav></aside>

    </div>

  

  <div id="footer" class="cell small-12">
    <div class="grid-x">
      <div class="cell small-12">
        <nav>
          
<footer id="footer">
  <div class="grid-container">
    <div class="grid-x align-middle">
      <div class="cell small-12 large-3 logo"><a href="/"><img src="/images/chef-logo-light.svg" alt="Habitat Documentation"></a></div>
      <div class="cell small-12 large-9">
        <ul class="menu vertical medium-horizontal">
          <li><a href="/sitemap/" target="_self">Site Map</a></li>
          <li><a href="https://www.chef.io/online-master-agreement/" target="_blank">Licensing</a></li>
          <li><a href="https://www.chef.io/terms-of-service/" target="_blank">Terms &amp; Conditions</a></li>
          <li><a href="https://www.chef.io/trademark-policy/" target="_blank">Trademark Policy</a></li>
          <li><a href="https://www.chef.io/privacy-policy/" target="_blank">Privacy Policy</a></li>
          <li><a href="https://www.chef.io/cookie-policy/" target="_blank">Cookie Policy</a></li>
        </ul>
        
          <p class="modified">Page Last Modified: 0001-01-01 00:00:00 &#43;0000 UTC</p>
        
        <p class="legal">&copy; 2008-2020 Chef Software, Inc. All Rights Reserved.</p>
      </div>
    </div>
  </div>
</footer>

        </nav>
      </div>
    </div>
  </div>
  
<script src="/js/core-bundle.min.b46adaaa9b34baa80cf4b98cb38321e111475886368cfc1e52ed3afcc03b5b22.js" type="text/javascript"></script>
<script src="/js/custom-bundle.min.e560508c0a1795f3e94b9dc46263787768b40136412317331f860cdc22837c6a.js" type="text/javascript"></script>
<script type="text/javascript">
  (function(w,d,t,u,n,s,e){w['SwiftypeObject']=n;w[n]=w[n]||function(){
  (w[n].q=w[n].q||[]).push(arguments);};s=d.createElement(t);
  e=d.getElementsByTagName(t)[0];s.async=1;s.src=u;e.parentNode.insertBefore(s,e);
  })(window,document,'script','//s.swiftypecdn.com/install/v2/st.js','_st');
  
  _st('install','s1Pemn_yrUKJw9_K5zRT','2.0.0');
</script>

  </body>
</html>
